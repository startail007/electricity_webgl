!function(r){var n={};function e(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return r[o].call(t.exports,t,t.exports,e),t.l=!0,t.exports}e.m=r,e.c=n,e.d=function(r,n,o){e.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:o})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,n){if(1&n&&(r=e(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var t in r)e.d(o,t,function(n){return r[n]}.bind(null,t));return o},e.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(n,"a",n),n},e.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},e.p="",e(e.s=55)}({0:function(r,n,e){"use strict";e.d(n,"g",(function(){return d})),e.d(n,"e",(function(){return o})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return i})),e.d(n,"d",(function(){return a})),e.d(n,"f",(function(){return u})),e.d(n,"b",(function(){return s})),e.d(n,"h",(function(){return p}));var o=function(r,n,e){var o=t(r,r.VERTEX_SHADER,n),i=t(r,r.FRAGMENT_SHADER,e),a=r.createProgram();return r.attachShader(a,o),r.attachShader(a,i),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)?a:(alert("無法初始化著色器程序: "+r.getProgramInfoLog(a)),null)},t=function(r,n,e){var o=r.createShader(n);return r.shaderSource(o,e),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS)?o:(alert("編譯著色器時發生錯誤: "+r.getShaderInfoLog(o)),r.deleteShader(o),null)},i=function(r,n,e){var o,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.STATIC_DRAW,i=r.createBuffer(),a=0,f={buffer:i,get data(){return o},get length(){return o.length},set:function(n){o=new Float32Array(n),a=100*Math.ceil(o.length/e/100),r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,a*e*4,t),r.bufferSubData(r.ARRAY_BUFFER,0,o)},add:function(n){var f=o.length,u=100*Math.floor(o.length/e/100);u>=a&&(a=u+100,r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,a*e*4,t),r.bufferSubData(r.ARRAY_BUFFER,0,o));var c=new Float32Array(f+e);c.set(o),o=c,this.item(f/e,n)},item:function(n,t){var a=new Float32Array(t);o.set(a,n*e),r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferSubData(r.ARRAY_BUFFER,n*e*4,a)},getItem:function(r){return Array.from(o.slice(r*e,(r+1)*e))}};return f.set(n),f},a=function(r,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.STATIC_DRAW,o=new Uint8Array(n),t=r.createBuffer();r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t),r.bufferData(r.ELEMENT_ARRAY_BUFFER,o,e);var i={buffer:t,get data(){return o},get length(){return o.length}};return i},f=function(r){var n=r.createTexture();return r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),n},u=function(r,n){var e=f(r),o=new Image;return o.onload=function(){r.bindTexture(r.TEXTURE_2D,e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,o)},o.src=n,e},c=function(r,n,e,o){r.bindFramebuffer(r.FRAMEBUFFER,n),null==e&&null==o&&r.viewport(0,0,e,o)},v=function(r,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n?e?c(r,n.framebuffer,n.width,n.height):c(r,n.framebuffer):e?c(r,null,r.canvas.width,r.canvas.height):c(r,null)},l=function(r,n,e){var o={width:n||r.canvas.clientWidth,height:e||r.canvas.clientHeight},t=f(r);o.texture=t,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,o.width,o.height,0,r.RGBA,r.UNSIGNED_BYTE,null);var i=r.createFramebuffer();return o.framebuffer=i,r.bindFramebuffer(r.FRAMEBUFFER,i),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.bindFramebuffer(r.FRAMEBUFFER,null),o},s={attribFloat:function(r,n,e,o){var t=r.getAttribLocation(n,e);return r.enableVertexAttribArray(t),function(n){r.bindBuffer(r.ARRAY_BUFFER,n),r.vertexAttribPointer(t,o,r.FLOAT,!1,0,0)}}},p={uniform1f:function(r,n,e){var o=r.getUniformLocation(n,e);return function(n){r.uniform1f(o,n)}},uniform2fv:function(r,n,e){var o=r.getUniformLocation(n,e);return function(n){r.uniform2fv(o,n)}},uniform3fv:function(r,n,e){var o=r.getUniformLocation(n,e);return function(n){r.uniform3fv(o,n)}},uniformTexture:function(r,n,e,o){var t=r.getUniformLocation(n,e);return function(n){r.activeTexture(r.TEXTURE0+o),r.bindTexture(r.TEXTURE_2D,n),r.uniform1i(t,o)}},uniform1i:function(r,n,e){var o=r.getUniformLocation(n,e);return function(n){r.uniform1i(o,n)}}},d=function(r,n,e,o,t){var i=n(r,e,o);return{programInfo:i,use:function(r){r.useProgram(i.program)},attribSet:function(r){for(var n in r)i.attribLocations[n]&&i.attribLocations[n](r[n])},uniformSet:function(r){for(var n in r)i.uniformLocations[n]&&i.uniformLocations[n](r[n])},useTexture:function(r,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v(r,n),e&&(r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT))}}}},1:function(r,n){r.exports=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}},2:function(r,n){function e(r,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}r.exports=function(r,n,o){return n&&e(r.prototype,n),o&&e(r,o),r}},22:function(r,n,e){"use strict";var o=e(0),t=e(3),i=e.n(t),a=e(23),f=e.n(a),u=function(r,n,e){var t=Object(o.e)(r,n,e);return{program:t,attribLocations:{vertexPosition:o.b.attribFloat(r,t,"aVertexPosition",2),textureCoord:o.b.attribFloat(r,t,"aTextureCoord",2)},uniformLocations:{flipY:o.h.uniform1f(r,t,"uFlipY"),sampler:o.h.uniformTexture(r,t,"uSampler",0)}}};n.a=function(r){return Object.assign(Object(o.g)(r,u,i.a,f.a),{getViewData:function(r){return[[r[0],r[1]],[r[2],r[1]],[r[2],r[3]],[r[0],r[3]]].flat()},draw:function(r,n){r.drawElements(r.TRIANGLE_STRIP,n,r.UNSIGNED_BYTE,0)}})}},23:function(r,n){r.exports="precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\nvoid main()\r\n{\r\n  gl_FragColor=texture2D(uSampler,vTextureCoord);\r\n}\r\n"},3:function(r,n){r.exports="attribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\nvarying highp vec2 vTextureCoord;\r\nuniform float uFlipY;\r\nvoid main(void){\r\n  vTextureCoord=aTextureCoord;\r\n  gl_Position=vec4((2.*aVertexPosition+vec2(-1.,-1.))*vec2(1.,uFlipY),0.,1.);\r\n}"},31:function(r,n){r.exports="precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nuniform lowp vec2 uSize;\r\nuniform int uType;\r\nuniform vec2 uGrid;\r\nuniform vec2 uPos;\r\nuniform vec2 uLoop;\r\n//const float pi=3.14159265359;\r\nconst int OCTAVE_NUM=3;\r\n\r\n/*vec3 random3(vec3 p){\r\n  vec3 f=vec3(\r\n    dot(p,vec3(127.1,311.7,69.5)),\r\n    dot(p,vec3(269.5,183.3,132.7)),\r\n    dot(p,vec3(247.3,108.5,96.5))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}*/\r\nvec2 random2(vec2 p,vec2 loop){\r\n  if(loop.x!=0.){\r\n    p.x=mod(p.x,loop.x);\r\n  }\r\n  if(loop.y!=0.){\r\n    p.y=mod(p.y,loop.y);\r\n  }\r\n  vec2 f=vec2(\r\n    dot(p,vec2(127.1,311.7)),\r\n    dot(p,vec2(269.5,183.3))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}\r\n/*float random(vec2 p){\r\n  float f=dot(p,vec2(127.1,311.7));\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}*/\r\n\r\nfloat noise_perlin(vec2 p,vec2 loop){\r\n  vec2 i=floor(p);\r\n  vec2 f=fract(p);\r\n  float a=dot(random2(i,loop),f);\r\n  float b=dot(random2(i+vec2(1.,0.),loop),f-vec2(1.,0.));\r\n  float c=dot(random2(i+vec2(0.,1.),loop),f-vec2(0.,1.));\r\n  float d=dot(random2(i+vec2(1.,1.),loop),f-vec2(1.,1.));\r\n  //vec2 u=smoothstep(0.,1.,f);\r\n  vec2 u=f*f*(3.-2.*f);\r\n  return mix(mix(a,b,u.x),mix(c,d,u.x),u.y);\r\n}\r\n/*float noise_perlin(vec3 p){\r\n  vec3 i=floor(p);\r\n  vec3 s=fract(p);\r\n  float a=dot(random3(i),s);\r\n  float b=dot(random3(i+vec3(1,0,0)),s-vec3(1,0,0));\r\n  float c=dot(random3(i+vec3(0,1,0)),s-vec3(0,1,0));\r\n  float d=dot(random3(i+vec3(0,0,1)),s-vec3(0,0,1));\r\n  float e=dot(random3(i+vec3(1,1,0)),s-vec3(1,1,0));\r\n  float f=dot(random3(i+vec3(1,0,1)),s-vec3(1,0,1));\r\n  float g=dot(random3(i+vec3(0,1,1)),s-vec3(0,1,1));\r\n  float h=dot(random3(i+vec3(1,1,1)),s-vec3(1,1,1));\r\n  //vec3 u=smoothstep(0.,1.,s);\r\n  vec3 u=s*s*(3.-2.*s);\r\n  return mix(mix(mix(a,b,u.x),mix(c,e,u.x),u.y),mix(mix(d,f,u.x),mix(g,h,u.x),u.y),u.z);\r\n}*/\r\n\r\nfloat fbm_noise_perlin(vec2 p,vec2 loop){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*noise_perlin(p,loop);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\n/*float fbm_noise_perlin(vec3 p)\r\n{\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*noise_perlin(p);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}*/\r\nfloat fbm_abs_noise_perlin(vec2 p,vec2 loop){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*abs(noise_perlin(p,loop));\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\n/*float fbm_abs_noise_perlin(vec3 p)\r\n{\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*abs(noise_perlin(p));\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}*/\r\n\r\n/*float domain_wraping(vec2 p)\r\n{\r\n  return fbm_abs_noise_perlin(p+fbm_abs_noise_perlin(p+fbm_abs_noise_perlin(p)));\r\n}*/\r\n\r\nvoid main()\r\n{\r\n  vec2 uv=(vTextureCoord+uPos)*uGrid;\r\n  if(uType==1){\r\n    float f=noise_perlin(uv,uLoop)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n    /*vec2 uv0=smoothstep(vec2(.5),vec2(.5),fract(uv));\r\n    float f=abs(uv0.x-uv0.y);\r\n    gl_FragColor=vec4(vec3(f),1.);*/\r\n  }else if(uType==2){\r\n    float f=fbm_noise_perlin(uv,uLoop)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }else if(uType==3){\r\n    float f=fbm_abs_noise_perlin(uv,uLoop)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }\r\n}\r\n\r\n"},32:function(r,n){r.exports="precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nuniform lowp vec2 uSize;\r\nuniform int uType;\r\nuniform vec2 uGrid;\r\nuniform vec2 uPos;\r\nuniform vec2 uLoop;\r\n//const float pi=3.14159265359;\r\nconst int OCTAVE_NUM=3;\r\n\r\n/*vec3 random3(vec3 p){\r\n  vec3 f=vec3(\r\n    dot(p,vec3(127.1,311.7,69.5)),\r\n    dot(p,vec3(269.5,183.3,132.7)),\r\n    dot(p,vec3(247.3,108.5,96.5))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}*/\r\nvec2 random2(vec2 p){\r\n  vec2 f=vec2(\r\n    dot(p,vec2(127.1,311.7)),\r\n    dot(p,vec2(269.5,183.3))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}\r\n/*float random(vec2 p){\r\n  float f=dot(p,vec2(127.1,311.7));\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}*/\r\n\r\nfloat noise_simplex(vec2 p){\r\n  const float K1=.366025404;// (sqrt(3)-1)/2;\r\n  const float K2=.211324865;// (3-sqrt(3))/6;\r\n  vec2 i=floor(p+(p.x+p.y)*K1);\r\n  vec2 a=p-i+(i.x+i.y)*K2;\r\n  float m=step(a.y,a.x);\r\n  vec2 o=vec2(m,1.-m);\r\n  vec2 b=a-o+K2;\r\n  vec2 c=a-1.+2.*K2;\r\n  vec3 h=max(.5-vec3(dot(a,a),dot(b,b),dot(c,c)),0.);\r\n  vec3 n=h*h*h*h*vec3(dot(a,random2(i+0.)),dot(b,random2(i+o)),dot(c,random2(i+1.)));\r\n  return dot(n,vec3(70.));\r\n}\r\n\r\nfloat fbm_noise_simplex(vec2 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*noise_simplex(p);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\n\r\nfloat fbm_abs_noise_simplex(vec2 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*abs(noise_simplex(p));\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\n\r\nvoid main()\r\n{\r\n  vec2 uv=(vTextureCoord+uPos)*uGrid;\r\n  if(uType==1){\r\n    float f=noise_simplex(uv)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }else if(uType==2){\r\n    float f=fbm_noise_simplex(uv)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }else if(uType==3){\r\n    float f=fbm_abs_noise_simplex(uv)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }\r\n}\r\n\r\n"},33:function(r,n){r.exports="precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nuniform lowp vec2 uSize;\r\nuniform int uType;\r\nuniform vec2 uGrid;\r\nuniform vec2 uPos;\r\nuniform vec2 uLoop;\r\n//const float pi=3.14159265359;\r\nconst int OCTAVE_NUM=3;\r\n\r\n/*vec3 random3(vec3 p){\r\n  vec3 f=vec3(\r\n    dot(p,vec3(127.1,311.7,69.5)),\r\n    dot(p,vec3(269.5,183.3,132.7)),\r\n    dot(p,vec3(247.3,108.5,96.5))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}\r\nvec2 random2(vec2 p){\r\n  vec2 f=vec2(\r\n    dot(p,vec2(127.1,311.7)),\r\n    dot(p,vec2(269.5,183.3))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}*/\r\nfloat random(vec2 p,vec2 loop){\r\n  if(loop.x!=0.){\r\n    p.x=mod(p.x,loop.x);\r\n  }\r\n  if(loop.y!=0.){\r\n    p.y=mod(p.y,loop.y);\r\n  }\r\n  float f=dot(p,vec2(127.1,311.7));\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}\r\n\r\nfloat noise_value(vec2 p,vec2 loop){\r\n  vec2 i=floor(p);\r\n  vec2 f=fract(p);\r\n  vec2 u=f*f*(3.-2.*f);\r\n  float a=random(i+vec2(0.,0.),loop);\r\n  float b=random(i+vec2(1.,0.),loop);\r\n  float c=random(i+vec2(0.,1.),loop);\r\n  float d=random(i+vec2(1.,1.),loop);\r\n  return mix(mix(a,b,u.x),mix(c,d,u.x),u.y);\r\n}\r\nfloat fbm_noise_value(vec2 p,vec2 loop){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*noise_value(p,loop);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nfloat fbm_abs_noise_value(vec2 p,vec2 loop){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*abs(noise_value(p,loop));\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nvoid main()\r\n{\r\n  vec2 uv=(vTextureCoord+uPos)*uGrid;\r\n  if(uType==1){\r\n    float f=noise_value(uv,uLoop)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }else if(uType==2){\r\n    float f=fbm_noise_value(uv,uLoop)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }else if(uType==3){\r\n    float f=fbm_abs_noise_value(uv,uLoop)*.5+.5;\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }\r\n}\r\n\r\n"},34:function(r,n){r.exports="precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nuniform lowp vec2 uSize;\r\nuniform int uType;\r\nuniform vec2 uGrid;\r\nuniform vec2 uPos;\r\nuniform vec2 uLoop;\r\n//const float pi=3.14159265359;\r\nconst int OCTAVE_NUM=3;\r\n\r\n/*vec3 random3(vec3 p){\r\n  vec3 f=vec3(\r\n    dot(p,vec3(127.1,311.7,69.5)),\r\n    dot(p,vec3(269.5,183.3,132.7)),\r\n    dot(p,vec3(247.3,108.5,96.5))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}*/\r\nvec2 random2(vec2 p,vec2 loop){\r\n  if(loop.x!=0.){\r\n    p.x=mod(p.x,loop.x);\r\n  }\r\n  if(loop.y!=0.){\r\n    p.y=mod(p.y,loop.y);\r\n  }\r\n  vec2 f=vec2(\r\n    dot(p,vec2(127.1,311.7)),\r\n    dot(p,vec2(269.5,183.3))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}\r\n/*float random(vec2 p){\r\n  float f=dot(p,vec2(127.1,311.7));\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}*/\r\nfloat noise_worley(vec2 p,vec2 loop){\r\n  vec2 i=floor(p);\r\n  vec2 f=fract(p);\r\n  float F1=1.;\r\n  for(int j=-1;j<=1;j++){\r\n    for(int k=-1;k<=1;k++){\r\n      vec2 neighbor=vec2(float(j),float(k));\r\n      vec2 point=random2(i+neighbor,loop)*.5+.5;\r\n      float d=length(point+neighbor-f);\r\n      F1=min(F1,d);\r\n    }\r\n  }\r\n  F1=F1*F1*(3.-2.*F1);\r\n  return F1;\r\n}\r\nfloat fbm_noise_worley(vec2 p,vec2 loop){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*noise_worley(p,loop);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nfloat fbm_abs_noise_worley(vec2 p,vec2 loop){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<OCTAVE_NUM;i++)\r\n  {\r\n    f+=a*abs(noise_worley(p,loop)*2.-1.);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  f=f*.5+.5;\r\n  return f;\r\n}\r\n\r\nvoid main()\r\n{\r\n  vec2 uv=(vTextureCoord+uPos)*uGrid;\r\n  if(uType==1){\r\n    float f=noise_worley(uv,uLoop);\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }else if(uType==2){\r\n    float f=fbm_noise_worley(uv,uLoop);\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }else if(uType==3){\r\n    float f=fbm_abs_noise_worley(uv,uLoop);\r\n    gl_FragColor=vec4(vec3(f),1.);\r\n  }\r\n}\r\n\r\n"},35:function(r,n){r.exports="precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nuniform lowp vec2 uSize;\r\nuniform lowp float uDepth;\r\nuniform int uType;\r\nuniform vec3 uGrid;\r\nuniform vec3 uPos;\r\nconst float pi=3.14159265359;\r\nconst int OCTAVE_NUM=3;\r\n\r\nvec3 random3(vec3 p){\r\n  vec3 f=vec3(\r\n    dot(p,vec3(127.1,311.7,69.5)),\r\n    dot(p,vec3(269.5,183.3,132.7)),\r\n    dot(p,vec3(247.3,108.5,96.5))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}\r\nfloat noise_perlin(vec3 p){\r\n  vec3 i=floor(p);\r\n  vec3 s=fract(p);\r\n  float a=dot(random3(i),s);\r\n  float b=dot(random3(i+vec3(1,0,0)),s-vec3(1,0,0));\r\n  float c=dot(random3(i+vec3(0,1,0)),s-vec3(0,1,0));\r\n  float d=dot(random3(i+vec3(0,0,1)),s-vec3(0,0,1));\r\n  float e=dot(random3(i+vec3(1,1,0)),s-vec3(1,1,0));\r\n  float f=dot(random3(i+vec3(1,0,1)),s-vec3(1,0,1));\r\n  float g=dot(random3(i+vec3(0,1,1)),s-vec3(0,1,1));\r\n  float h=dot(random3(i+vec3(1,1,1)),s-vec3(1,1,1));\r\n  vec3 u=smoothstep(0.,1.,s);\r\n  //vec3 u=s*s*(3.-2.*s);\r\n  return mix(mix(mix(a,b,u.x),mix(c,e,u.x),u.y),mix(mix(d,f,u.x),mix(g,h,u.x),u.y),u.z);\r\n}\r\nfloat fbm_noise_perlin(vec3 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*noise_perlin(p);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nfloat fbm_abs_noise_perlin(vec3 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*abs(noise_perlin(p));\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nvoid main()\r\n{\r\n  vec3 uv=(vec3(vTextureCoord,0.)+uPos)*uGrid;\r\n  float f=fbm_abs_noise_perlin(vec3(uv))*.5+.5;\r\n  //gl_FragColor=vec4(vec3(f),1.);\r\n  gl_FragColor=vec4(vec3(1.5*f,1.5*f*f*f,f*f*f*f*f*f),1.);\r\n}\r\n\r\n"},36:function(r,n){r.exports="precision mediump float;\r\nvarying vec2 vTextureCoord;\r\nuniform lowp vec2 uSize;\r\nuniform lowp float uDepth;\r\nuniform int uType;\r\nuniform vec3 uGrid;\r\nuniform vec3 uPos;\r\nconst float pi=3.14159265359;\r\nconst int OCTAVE_NUM=3;\r\n\r\nvec3 random3(vec3 p){\r\n  vec3 f=vec3(\r\n    dot(p,vec3(127.1,311.7,69.5)),\r\n    dot(p,vec3(269.5,183.3,132.7)),\r\n    dot(p,vec3(247.3,108.5,96.5))\r\n  );\r\n  return-1.+2.*fract(sin(f)*43758.5453123);\r\n}\r\nfloat noise_perlin(vec3 p){\r\n  vec3 i=floor(p);\r\n  vec3 s=fract(p);\r\n  float a=dot(random3(i),s);\r\n  float b=dot(random3(i+vec3(1,0,0)),s-vec3(1,0,0));\r\n  float c=dot(random3(i+vec3(0,1,0)),s-vec3(0,1,0));\r\n  float d=dot(random3(i+vec3(0,0,1)),s-vec3(0,0,1));\r\n  float e=dot(random3(i+vec3(1,1,0)),s-vec3(1,1,0));\r\n  float f=dot(random3(i+vec3(1,0,1)),s-vec3(1,0,1));\r\n  float g=dot(random3(i+vec3(0,1,1)),s-vec3(0,1,1));\r\n  float h=dot(random3(i+vec3(1,1,1)),s-vec3(1,1,1));\r\n  vec3 u=smoothstep(0.,1.,s);\r\n  //vec3 u=s*s*(3.-2.*s);\r\n  return mix(mix(mix(a,b,u.x),mix(c,e,u.x),u.y),mix(mix(d,f,u.x),mix(g,h,u.x),u.y),u.z);\r\n}\r\nfloat fbm_noise_perlin(vec3 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*noise_perlin(p);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nfloat fbm_abs_noise_perlin(vec3 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*abs(noise_perlin(p));\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nfloat eddy(vec2 uv,float N){\r\n  float d=length(uv);\r\n  float a=atan(uv.y,uv.x);\r\n  float s=abs(sin(d*N+a))/d;\r\n  return s;\r\n}\r\n\r\nfloat ring(vec2 f){\r\n  float d0=smoothstep(1.,.99,length(f)/.5);\r\n  float d1=smoothstep(1.,.99,length(f)/.49);\r\n  return abs(d0-d1);\r\n}\r\nfloat distLine(vec2 p,vec2 a,vec2 b,float w){\r\n  vec2 pa=p-a;\r\n  vec2 ba=b-a;\r\n  float t=clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\r\n  return length(pa-ba*t)/w;\r\n}\r\nmat2 rotCoord(float a){\r\n  float sin_factor=sin(a);\r\n  float cos_factor=cos(a);\r\n  mat2 rot=mat2(cos_factor,sin_factor,-sin_factor,cos_factor);\r\n  return rot;\r\n}\r\nvec2 rotPos(vec2 f,float a){\r\n  return f*rotCoord(a);\r\n}\r\nvec2 ballPos(vec2 f,vec2 i,float t){\r\n  i+=f;\r\n  return f+rotPos(vec2(.5,0.),t+.2*(i.x+i.y)*pi);\r\n}\r\nfloat ball(vec2 f,float r){\r\n  return smoothstep(1.,.99,length(f)/r);\r\n}\r\nfloat wave(vec2 uv,float t){\r\n  vec2 f=fract(uv);\r\n  vec2 i=floor(uv);\r\n  f=(f-.5);\r\n  vec2 mainPos=ballPos(vec2(0.,0.),i,t);\r\n  vec2 rightPos=ballPos(vec2(1.,0.),i,t);\r\n  vec2 leftPos=ballPos(-vec2(1.,0.),i,t);\r\n  vec2 bottomPos=ballPos(vec2(0.,1.),i,t);\r\n  vec2 topPos=ballPos(-vec2(0.,1.),i,t);\r\n  float c=0.;\r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,rightPos,.05));\r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,leftPos,.05));\r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,bottomPos,.05));\r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,topPos,.05));\r\n  \r\n  c+=ball((f-mainPos),.05);\r\n  c+=ball((f-rightPos),.05);\r\n  c+=ball((f-leftPos),.05);\r\n  c+=ball((f-bottomPos),.05);\r\n  c+=ball((f-topPos),.05);\r\n  return c;\r\n}\r\nfloat gradual(vec2 p,vec2 a,vec2 b){\r\n  vec2 pa=p-a;\r\n  vec2 ba=b-a;\r\n  return clamp(dot(pa,normalize(ba))/length(ba),0.,1.);\r\n}\r\nfloat distHexagon(vec2 uv){\r\n  uv=abs(uv);\r\n  float c=dot(uv,normalize(vec2(1.,1.7320508)));\r\n  c=max(c,uv.x);\r\n  return c;\r\n}\r\nvec2 hexagon(vec2 uv){\r\n  float sqrt3=1.7320508;\r\n  vec2 r=vec2(1.,sqrt3);\r\n  vec2 h=r*.5;\r\n  vec2 a=mod(uv,r)-h;\r\n  vec2 b=mod(uv-h,r)-h;\r\n  vec2 g;\r\n  if(length(a)<length(b)){\r\n    g=a;\r\n  }else{\r\n    g=b;\r\n  }\r\n  return g;\r\n}\r\nvoid main()\r\n{\r\n  \r\n  vec2 aspectRatio=vec2(uSize.x/uSize.y,1.);\r\n  if(vTextureCoord.x<.5){\r\n    if(vTextureCoord.y<.5){\r\n      //六邊形\r\n      vec4 color=vec4(0.);\r\n      vec2 uv=(vTextureCoord-.5);\r\n      uv=uv*2.-vec2(.5,-.5);\r\n      uv*=aspectRatio;\r\n      uv*=5.;\r\n      vec2 g=hexagon(uv);\r\n      color+=vec4(vec3(g,0.),1.);\r\n      vec2 i=uv-g;\r\n      float angle=atan(g.y,g.x);\r\n      g*=rotCoord(.2*(i.x+i.y)*pi-uPos.z*20.);\r\n      float f=distHexagon(g);\r\n      f=sin(f*40.+angle+.2*(i.x+i.y)*pi-uPos.z*20.)*.5+.5;\r\n      f=step(f,length(g));\r\n      color+=vec4(vec3(f),1.);\r\n      gl_FragColor=color;\r\n    }else{\r\n      //波浪\r\n      vec4 color=vec4(0.);\r\n      vec2 grid=vec2(10.,10.);\r\n      vec2 uv=vTextureCoord;\r\n      uv=uv*2.-vec2(.5,-.5);\r\n      uv*=aspectRatio;\r\n      uv*=grid;\r\n      vec2 gv=fract(uv);\r\n      \r\n      color+=vec4(vec3(wave(uv,pi*uPos.z*20.)),1.);\r\n      \r\n      float gridLineWidth=1.;\r\n      vec2 gridWidth=gridLineWidth*grid/uSize;\r\n      //if(gv.x<gridWidth.x||gv.x>1.-gridWidth.x||gv.y<gridWidth.y||gv.y>1.-gridWidth.y){color=vec4(vec3(1.,0.,0.),1.);}\r\n      gl_FragColor=color;\r\n    }\r\n  }else{\r\n    if(vTextureCoord.y<.5){\r\n      //漩渦\r\n      vec2 uv=(vTextureCoord-.5);\r\n      uv=uv*2.-vec2(.5,-.5);\r\n      uv*=aspectRatio;\r\n      gl_FragColor=vec4(vec3(eddy(uv,10.)),1.);\r\n    }else{\r\n      vec4 color=vec4(0.);\r\n      \r\n      vec2 uv=(vTextureCoord-.5);\r\n      uv=uv*2.-vec2(.5,.5);\r\n      uv*=aspectRatio;\r\n      \r\n      float r=length(uv);\r\n      float a=.5*atan(uv.y,uv.x)/pi+.5;\r\n      vec2 rate=vec2(10.,5.);\r\n      vec2 uv0=vec2(a,r)*rate;\r\n      \r\n      vec2 f=fract(uv0);\r\n      color+=vec4(vec3(ball((f-vec2(.5,.5))*vec2(2.*r*pi,1.)/vec2(rate.x/rate.y,1.),.05)),1.);\r\n      color+=vec4(f,0.,1.);\r\n      gl_FragColor=color;\r\n    }\r\n  }\r\n}\r\n\r\n"},4:function(r,n,e){"use strict";e.d(n,"a",(function(){return f})),e.d(n,"b",(function(){return u}));var o=e(1),t=e.n(o),i=e(2),a=e.n(i),f=function(){function r(){t()(this,r)}return a()(r,null,[{key:"normalize",value:function(n){return r.length(n)?r.scale(n,1/r.length(n)):n}},{key:"rotate",value:function(r,n){var e=Math.cos(n),o=Math.sin(n);return[r[0]*e-r[1]*o,r[1]*e+r[0]*o]}},{key:"dot",value:function(r,n){return r[0]*n[0]+r[1]*n[1]}},{key:"cross",value:function(r,n){return r[0]*n[1]-r[1]*n[0]}},{key:"add",value:function(r,n){return[r[0]+n[0],r[1]+n[1]]}},{key:"sub",value:function(r,n){return[r[0]-n[0],r[1]-n[1]]}},{key:"projection",value:function(n,e){var o=r.dot(n,e)/r.dot(e,e);return[e[0]*o,e[1]*o]}},{key:"length",value:function(n){return Math.sqrt(r.dot(n,n))}},{key:"mul",value:function(r,n){return[r[0]*n[0],r[1]*n[1]]}},{key:"div",value:function(r,n){return[r[0]/n[0],r[1]/n[1]]}},{key:"scale",value:function(r,n){return[r[0]*n,r[1]*n]}},{key:"collisionCalc",value:function(n,e,o,t){return r.scale(r.add(r.scale(n,o-t),r.scale(e,2*t)),1/(o+t))}},{key:"getAngle",value:function(r){return Math.atan2(r[1],r[0])}}]),r}(),u=function(){function r(){t()(this,r)}return a()(r,null,[{key:"set",value:function(r,n,e){return r[0]=n,r[1]=e,r}},{key:"normalize",value:function(n){var e=f.length(n);return e&&r.scale(n,1/e),n}},{key:"add",value:function(r,n){return r[0]+=n[0],r[1]+=n[1],r}},{key:"sub",value:function(r,n){return r[0]-=n[0],r[1]-=n[1],r}},{key:"scale",value:function(r,n){return r[0]*=n,r[1]*=n,r}},{key:"rotate",value:function(r,n){var e=Math.cos(n),o=Math.sin(n),t=[r[0]*e-r[1]*o,r[1]*e+r[0]*o];return r[0]=t[0],r[1]=t[1],r}}]),r}()},5:function(r,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return c}));var o=e(1),t=e.n(o),i=e(2),a=e.n(i),f=e(4),u=function(){function r(){t()(this,r)}return a()(r,null,[{key:"toPosRate",value:function(r,n,e){return[r[0]*(1-e)+n[0]*e,r[1]*(1-e)+n[1]*e]}},{key:"cross",value:function(r,n,e){return(r[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(r[1]-n[1])}},{key:"getCenter",value:function(r,n){return[.5*(r[0]+n[0]),.5*(r[1]+n[1])]}},{key:"getVector",value:function(r,n){return[n[0]-r[0],n[1]-r[1]]}},{key:"addVector",value:function(r,n){return[r[0]+n[0],r[1]+n[1]]}},{key:"distance",value:function(n,e){return f.a.length(r.getVector(n,e))}},{key:"getLine",value:function(n,e){return{point:n,vector:r.getVector(n,e)}}}]),r}(),c=function(){function r(){t()(this,r)}return a()(r,null,[{key:"set",value:function(r,n,e){return r[0]=n,r[1]=e,r}},{key:"addVector",value:function(r,n){return r[0]+=n[0],r[1]+=n[1],r}}]),r}()},55:function(r,n,e){"use strict";e.r(n);var o=e(0),t=(e(4),e(5)),i=e(3),a=e.n(i),f=e(31),u=e.n(f),c=function(r,n,e){var t=Object(o.e)(r,n,e);return{program:t,attribLocations:{vertexPosition:o.b.attribFloat(r,t,"aVertexPosition",2),textureCoord:o.b.attribFloat(r,t,"aTextureCoord",2)},uniformLocations:{flipY:o.h.uniform1f(r,t,"uFlipY"),size:o.h.uniform2fv(r,t,"uSize"),grid:o.h.uniform2fv(r,t,"uGrid"),pos:o.h.uniform2fv(r,t,"uPos"),type:o.h.uniform1i(r,t,"uType"),loop:o.h.uniform2fv(r,t,"uLoop")}}},v=function(r){return Object.assign(Object(o.g)(r,c,a.a,u.a),{draw:function(r,n){r.drawElements(r.TRIANGLE_STRIP,n,r.UNSIGNED_BYTE,0)}})},l=e(32),s=e.n(l),p=function(r,n,e){var t=Object(o.e)(r,n,e);return{program:t,attribLocations:{vertexPosition:o.b.attribFloat(r,t,"aVertexPosition",2),textureCoord:o.b.attribFloat(r,t,"aTextureCoord",2)},uniformLocations:{flipY:o.h.uniform1f(r,t,"uFlipY"),size:o.h.uniform2fv(r,t,"uSize"),grid:o.h.uniform2fv(r,t,"uGrid"),pos:o.h.uniform2fv(r,t,"uPos"),type:o.h.uniform1i(r,t,"uType"),loop:o.h.uniform2fv(r,t,"uLoop")}}},d=function(r){return Object.assign(Object(o.g)(r,p,a.a,s.a),{draw:function(r,n){r.drawElements(r.TRIANGLE_STRIP,n,r.UNSIGNED_BYTE,0)}})},m=e(33),b=e.n(m),g=function(r,n,e){var t=Object(o.e)(r,n,e);return{program:t,attribLocations:{vertexPosition:o.b.attribFloat(r,t,"aVertexPosition",2),textureCoord:o.b.attribFloat(r,t,"aTextureCoord",2)},uniformLocations:{flipY:o.h.uniform1f(r,t,"uFlipY"),size:o.h.uniform2fv(r,t,"uSize"),grid:o.h.uniform2fv(r,t,"uGrid"),pos:o.h.uniform2fv(r,t,"uPos"),type:o.h.uniform1i(r,t,"uType"),loop:o.h.uniform2fv(r,t,"uLoop")}}},x=function(r){return Object.assign(Object(o.g)(r,g,a.a,b.a),{draw:function(r,n){r.drawElements(r.TRIANGLE_STRIP,n,r.UNSIGNED_BYTE,0)}})},_=e(34),h=e.n(_),T=function(r,n,e){var t=Object(o.e)(r,n,e);return{program:t,attribLocations:{vertexPosition:o.b.attribFloat(r,t,"aVertexPosition",2),textureCoord:o.b.attribFloat(r,t,"aTextureCoord",2)},uniformLocations:{flipY:o.h.uniform1f(r,t,"uFlipY"),size:o.h.uniform2fv(r,t,"uSize"),grid:o.h.uniform2fv(r,t,"uGrid"),pos:o.h.uniform2fv(r,t,"uPos"),type:o.h.uniform1i(r,t,"uType"),loop:o.h.uniform2fv(r,t,"uLoop")}}},y=function(r){return Object.assign(Object(o.g)(r,T,a.a,h.a),{draw:function(r,n){r.drawElements(r.TRIANGLE_STRIP,n,r.UNSIGNED_BYTE,0)}})},P=e(35),E=e.n(P),S=function(r,n,e){var t=Object(o.e)(r,n,e);return{program:t,attribLocations:{vertexPosition:o.b.attribFloat(r,t,"aVertexPosition",2),textureCoord:o.b.attribFloat(r,t,"aTextureCoord",2)},uniformLocations:{flipY:o.h.uniform1f(r,t,"uFlipY"),size:o.h.uniform2fv(r,t,"uSize"),depth:o.h.uniform1f(r,t,"uDepth"),grid:o.h.uniform3fv(r,t,"uGrid"),pos:o.h.uniform3fv(r,t,"uPos"),type:o.h.uniform1i(r,t,"uType")}}},F=function(r){return Object.assign(Object(o.g)(r,S,a.a,E.a),{draw:function(r,n){r.drawElements(r.TRIANGLE_STRIP,n,r.UNSIGNED_BYTE,0)}})},C=e(36),R=e.n(C),A=function(r,n,e){var t=Object(o.e)(r,n,e);return{program:t,attribLocations:{vertexPosition:o.b.attribFloat(r,t,"aVertexPosition",2),textureCoord:o.b.attribFloat(r,t,"aTextureCoord",2)},uniformLocations:{flipY:o.h.uniform1f(r,t,"uFlipY"),size:o.h.uniform2fv(r,t,"uSize"),depth:o.h.uniform1f(r,t,"uDepth"),grid:o.h.uniform3fv(r,t,"uGrid"),pos:o.h.uniform3fv(r,t,"uPos"),type:o.h.uniform1i(r,t,"uType")}}},D=function(r){return Object.assign(Object(o.g)(r,A,a.a,R.a),{draw:function(r,n){r.drawElements(r.TRIANGLE_STRIP,n,r.UNSIGNED_BYTE,0)}})},L=e(22);function w(r){var n=[[0,0],[1,0],[1,1],[0,1]].flat(),e=Object(o.a)(r,n,2),t=[[0,0],[1,0],[1,1],[0,1]].flat(),i=Object(o.a)(r,t,2),a=[[2,0,1],[3,2,0]].flat();return{positionBufferData:e,textureCoordinatesBufferData:i,indicesBufferData:Object(o.d)(r,a)}}!function(){var r=document.querySelector("#glcanvas"),n=r.getContext("webgl",{alpha:!1});if(!n)return void alert("無法初始化WebGL。您的瀏覽器或機器可能不支持它。");var e={noisePerlinShader:v(n),noiseSimplexShader:d(n),noiseValueShader:x(n),noiseWorleyShader:y(n),noisePerlin3DShader:F(n),hexagonShader:D(n),viewShader:Object(L.a)(n)},i={face:w(n),view:w(n)},a=[.5*n.canvas.width,.5*n.canvas.height];r.addEventListener("mousemove",(function(r){t.b.set(a,r.pageX,r.pageY)}));var f=[n.canvas.clientWidth,n.canvas.clientHeight],u={noisePerlin:Object(o.c)(n),noiseSimplex:Object(o.c)(n),noiseValue:Object(o.c)(n),noiseWorley:Object(o.c)(n),fbm_noisePerlin:Object(o.c)(n),fbm_noiseSimplex:Object(o.c)(n),fbm_noiseValue:Object(o.c)(n),fbm_noiseWorley:Object(o.c)(n),fbm_abs_noisePerlin:Object(o.c)(n),fbm_abs_noiseSimplex:Object(o.c)(n),fbm_abs_noiseValue:Object(o.c)(n),fbm_abs_noiseWorley:Object(o.c)(n),noisePerlin3D:Object(o.c)(n),hexagon:Object(o.c)(n)},c=[[{framebufferTexture:u.noisePerlin,shaderProgram:e.noisePerlinShader,type:1},{framebufferTexture:u.fbm_noisePerlin,shaderProgram:e.noisePerlinShader,type:2},{framebufferTexture:u.fbm_abs_noisePerlin,shaderProgram:e.noisePerlinShader,type:3}],[{framebufferTexture:u.noiseSimplex,shaderProgram:e.noiseSimplexShader,type:1},{framebufferTexture:u.fbm_noiseSimplex,shaderProgram:e.noiseSimplexShader,type:2},{framebufferTexture:u.fbm_abs_noiseSimplex,shaderProgram:e.noiseSimplexShader,type:3}],[{framebufferTexture:u.noiseValue,shaderProgram:e.noiseValueShader,type:1},{framebufferTexture:u.fbm_noiseValue,shaderProgram:e.noiseValueShader,type:2},{framebufferTexture:u.fbm_abs_noiseValue,shaderProgram:e.noiseValueShader,type:3}],[{framebufferTexture:u.noiseWorley,shaderProgram:e.noiseWorleyShader,type:1},{framebufferTexture:u.fbm_noiseWorley,shaderProgram:e.noiseWorleyShader,type:2},{framebufferTexture:u.fbm_abs_noiseWorley,shaderProgram:e.noiseWorleyShader,type:3}]];l={framebufferTextures:u,size:f,noiseTexture:c},l.framebufferTextures,l.size,l.noiseTexture;var l;var s=0;requestAnimationFrame((function r(o){var t=.001*(o-s);s=o,requestAnimationFrame(r),function(r,n,e,o,t){for(var i=t.now,a=t.framebufferTextures,f=(t.mPos,t.size),u=t.noiseTexture,c=0;c<6;c++)if(u[c])for(var v=0;v<6;v++)if(u[c][v]){var l=e.face,s=u[c][v].shaderProgram;s.use(r),s.attribSet({vertexPosition:l.positionBufferData.buffer,textureCoord:l.textureCoordinatesBufferData.buffer}),s.uniformSet({size:f,grid:[12,12],type:u[c][v].type,pos:[0,0],flipY:1,loop:[0,0]}),s.useTexture(r,u[c][v].framebufferTexture),s.draw(r,l.indicesBufferData.length)}var p=e.face,d=n.noisePerlin3DShader;d.use(r),d.attribSet({vertexPosition:p.positionBufferData.buffer,textureCoord:p.textureCoordinatesBufferData.buffer}),d.uniformSet({size:f,depth:500,grid:[20,20,20],type:1,pos:[0,0,5e-5*i],flipY:1}),d.useTexture(r,a.noisePerlin3D),d.draw(r,p.indicesBufferData.length);var m=e.face,b=n.hexagonShader;b.use(r),b.attribSet({vertexPosition:m.positionBufferData.buffer,textureCoord:m.textureCoordinatesBufferData.buffer}),b.uniformSet({size:f,depth:500,grid:[20,20,20],type:1,pos:[0,0,5e-5*i],flipY:1}),b.useTexture(r,a.hexagon),b.draw(r,m.indicesBufferData.length);var g=e.view,x=n.viewShader;x.use(r),x.attribSet({vertexPosition:g.positionBufferData.buffer,textureCoord:g.textureCoordinatesBufferData.buffer}),x.uniformSet({flipY:-1}),x.useTexture(r);for(var _=0;_<6;_++)if(u[_])for(var h=0;h<6;h++)if(u[_][h]){var T=x.getViewData([h/6,_/6,(h+1)/6,(_+1)/6]);g.positionBufferData.set(T),x.uniformSet({sampler:u[_][h].framebufferTexture.texture}),x.draw(r,g.indicesBufferData.length)}g.positionBufferData.set(x.getViewData([.5,0,1,.5])),g.textureCoordinatesBufferData.set(x.getViewData([0,0,1,1])),x.uniformSet({sampler:a.noisePerlin3D.texture}),x.draw(r,g.indicesBufferData.length),g.positionBufferData.set(x.getViewData([.5,.5,1,1])),g.textureCoordinatesBufferData.set(x.getViewData([0,0,1,1])),x.uniformSet({sampler:a.hexagon.texture}),x.draw(r,g.indicesBufferData.length)}(n,e,i,0,{now:o,delta:t,mPos:a,framebufferTextures:u,size:f,noiseTexture:c})}))}()}});