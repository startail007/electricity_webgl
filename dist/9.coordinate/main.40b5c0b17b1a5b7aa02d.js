!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=92)}({0:function(n,e,t){"use strict";t.d(e,"g",(function(){return r})),t.d(e,"a",(function(){return a})),t.d(e,"d",(function(){return u})),t.d(e,"h",(function(){return c})),t.d(e,"c",(function(){return l})),t.d(e,"b",(function(){return s})),t.d(e,"j",(function(){return d})),t.d(e,"i",(function(){return p})),t.d(e,"e",(function(){return m})),t.d(e,"f",(function(){return g})),t.d(e,"k",(function(){return b}));var r=function(n,e,t){var r=o(n,n.VERTEX_SHADER,e),a=o(n,n.FRAGMENT_SHADER,t),u=n.createProgram();return n.attachShader(u,r),n.attachShader(u,a),n.linkProgram(u),n.getProgramParameter(u,n.LINK_STATUS)?u:(alert("無法初始化著色器程序: "+n.getProgramInfoLog(u)),null)},o=function(n,e,t){var r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)?r:(alert("編譯著色器時發生錯誤: "+n.getShaderInfoLog(r)),n.deleteShader(r),null)},a=function(n,e,t){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.STATIC_DRAW,u=n.createBuffer(),i=0,c={buffer:u,get data(){return r},get length(){return r.length},set:function(e){r=new o(e),i=100*Math.ceil(r.length/t/100),n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,i*t*4,a),n.bufferSubData(n.ARRAY_BUFFER,0,r)},add:function(e){var c=r.length,f=100*Math.floor(r.length/t/100);f>=i&&(i=f+100,n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,i*t*4,a),n.bufferSubData(n.ARRAY_BUFFER,0,r));var v=new o(c+t);v.set(r),r=v,this.item(c/t,e)},item:function(e,a){var i=new o(a);r.set(i,e*t),n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferSubData(n.ARRAY_BUFFER,e*t*4,i)},getItem:function(n){return Array.from(r.slice(n*t,(n+1)*t))}};return c.set(e),c},u=function(n,e){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.STATIC_DRAW,a=n.createBuffer(),u=0,i=3,c={buffer:a,get data(){return t},get length(){return t.length},set:function(e){t=new r(e),u=100*Math.ceil(t.length/i/100),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,a),n.bufferData(n.ELEMENT_ARRAY_BUFFER,u*i*4,o),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,t)},add:function(e){var c=t.length,f=100*Math.floor(t.length/i/100);f>=u&&(u=f+100,n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,a),n.bufferData(n.ELEMENT_ARRAY_BUFFER,u*i*4,o),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,t));var v=new r(c+i);v.set(t),t=v,this.item(c/i,e)},item:function(e,o){var u=new r(o);t.set(u,e*i),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,a),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,e*i*4,u)},getItem:function(n){return Array.from(t.slice(n*i,(n+1)*i))}};return c.set(e),c},i=function(n){var e=n.createTexture();return n.bindTexture(n.TEXTURE_2D,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),e},c=function(n,e){var t=i(n),r=new Image;return r.onload=function(){t.width=r.width,t.height=r.height,n.bindTexture(n.TEXTURE_2D,t),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.bindTexture(n.TEXTURE_2D,null)},r.src=e,t},f=function(n,e,t,r){n.bindFramebuffer(n.FRAMEBUFFER,e),void 0!==t&&void 0!==r&&n.viewport(0,0,t,r)},v=function(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e?t?f(n,e.framebuffer,e.width,e.height):f(n,e.framebuffer):t?f(n,null,n.canvas.width,n.canvas.height):f(n,null)},l=function(n,e,t){var r={width:e||n.canvas.clientWidth,height:t||n.canvas.clientHeight},o=i(n);r.texture=o,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r.width,r.height,0,n.RGBA,n.UNSIGNED_BYTE,null);var a=n.createFramebuffer();return r.framebuffer=a,n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o,0),n.bindFramebuffer(n.FRAMEBUFFER,null),r},s={attribFloat:function(n,e,t,r){var o=n.getAttribLocation(e,t);return n.enableVertexAttribArray(o),function(e){n.bindBuffer(n.ARRAY_BUFFER,e),n.vertexAttribPointer(o,r,n.FLOAT,!1,0,0)}}},d={uniform1f:function(n,e,t){var r=n.getUniformLocation(e,t);return function(e){n.uniform1f(r,e)}},uniform1fv:function(n,e,t){var r=n.getUniformLocation(e,t);return function(e){n.uniform1fv(r,e)}},uniform2fv:function(n,e,t){var r=n.getUniformLocation(e,t);return function(e){n.uniform2fv(r,e)}},uniform3fv:function(n,e,t){var r=n.getUniformLocation(e,t);return function(e){n.uniform3fv(r,e)}},uniformTexture:function(n,e,t,r){var o=n.getUniformLocation(e,t);return function(e){n.activeTexture(n.TEXTURE0+r),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(o,r)}},uniform1i:function(n,e,t){var r=n.getUniformLocation(e,t);return function(e){n.uniform1i(r,e)}},uniformMatrix4fv:function(n,e,t){var r=n.getUniformLocation(e,t);return function(e){n.uniformMatrix4fv(r,!1,e)}}},p=function(n,e,t,r,o){var a=e(n,t,r);return{programInfo:a,use:function(){n.useProgram(a.program)},attribSet:function(n){for(var e in n)a.attribLocations[e]&&a.attribLocations[e](n[e])},uniformSet:function(n){for(var e in n)a.uniformLocations[e]&&a.uniformLocations[e](n[e])},elementSet:function(e){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e)}}},m=function(n){return[[n[0],n[1]],[n[2],n[1]],[n[2],n[3]],[n[0],n[3]]].flat()},g=function(n){return[[n[0],n[1]],[n[0],n[3]],[n[2],n[1]],[n[2],n[3]]].flat()},h=function(n){n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT)},b=function(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];v(n,e,r),t&&h(n)}},1:function(n,e,t){"use strict";t.d(e,"b",(function(){return c})),t.d(e,"c",(function(){return f})),t.d(e,"a",(function(){return v})),t.d(e,"e",(function(){return m})),t.d(e,"d",(function(){return g}));var r=t(3),o=t.n(r),a=t(4),u=t.n(a),i=t(2),c=function(){function n(){o()(this,n)}return u()(n,null,[{key:"normalize",value:function(e){var t=n.length(e);return t?n.scale(e,1/t):e}},{key:"rotate",value:function(n,e){var t=Math.cos(e),r=Math.sin(e);return[n[0]*t-n[1]*r,n[1]*t+n[0]*r]}},{key:"dot",value:function(n,e){return n[0]*e[0]+n[1]*e[1]}},{key:"cross",value:function(n,e){return n[0]*e[1]-n[1]*e[0]}},{key:"add",value:function(n,e){return[n[0]+e[0],n[1]+e[1]]}},{key:"sub",value:function(n,e){return[n[0]-e[0],n[1]-e[1]]}},{key:"projection",value:function(e,t){var r=n.dot(e,t)/n.dot(t,t);return[t[0]*r,t[1]*r]}},{key:"length",value:function(e){return Math.sqrt(n.dot(e,e))}},{key:"mul",value:function(n,e){return[n[0]*e[0],n[1]*e[1]]}},{key:"div",value:function(n,e){return[n[0]/e[0],n[1]/e[1]]}},{key:"scale",value:function(n,e){return[n[0]*e,n[1]*e]}},{key:"collisionCalc",value:function(e,t,r,o){return n.scale(n.add(n.scale(e,r-o),n.scale(t,2*o)),1/(r+o))}},{key:"getAngle",value:function(n){return Math.atan2(n[1],n[0])}},{key:"floor",value:function(n){return[Math.floor(n[0]),Math.floor(n[1])]}},{key:"fract",value:function(n){return[i.a.fract(n[0]),i.a.fract(n[1])]}},{key:"sin",value:function(n){return[Math.sin(n[0]),Math.sin(n[1])]}},{key:"cos",value:function(n){return[Math.cos(n[0]),Math.cos(n[1])]}},{key:"distance",value:function(e,t){return n.length(n.sub(t,e))}},{key:"mix",value:function(n,e,t){return[i.a.mix(n[0],e[0],t),i.a.mix(n[1],e[1],t)]}},{key:"abs",value:function(n){return[Math.abs(n[0]),Math.abs(n[1])]}}]),n}(),f=function(){function n(){o()(this,n)}return u()(n,null,[{key:"set",value:function(n,e,t){return n[0]=e,n[1]=t,n}},{key:"normalize",value:function(e){var t=c.length(e);return t&&n.scale(e,1/t),e}},{key:"add",value:function(n,e){return n[0]+=e[0],n[1]+=e[1],n}},{key:"sub",value:function(n,e){return n[0]-=e[0],n[1]-=e[1],n}},{key:"scale",value:function(n,e){return n[0]*=e,n[1]*=e,n}},{key:"rotate",value:function(n,e){var t=Math.cos(e),r=Math.sin(e),o=[n[0]*t-n[1]*r,n[1]*t+n[0]*r];return n[0]=o[0],n[1]=o[1],n}}]),n}(),v=function(){function n(){o()(this,n)}return u()(n,null,[{key:"doLineSegmentsIntersect",value:function(n,e,t,r){function o(n,e,t){var r=(e[1]-n[1])*(t[0]-e[0])-(e[0]-n[0])*(t[1]-e[1]);return 0===r?0:r>0?1:2}function a(n,e,t){return e[0]<=Math.max(n[0],t[0])&&e[0]>=Math.min(n[0],t[0])&&e[1]<=Math.max(n[1],t[1])&&e[1]>=Math.min(n[1],t[1])}var u=o(n,e,t),i=o(n,e,r),c=o(t,r,n),f=o(t,r,e);return u!==i&&c!==f||(!(0!==u||!a(n,t,e))||(!(0!==i||!a(n,r,e))||(!(0!==c||!a(t,n,r))||!(0!==f||!a(t,e,r)))))}},{key:"getLine",value:function(n,e){return{pos:n,dir:c.sub(e,n)}}},{key:"toLineDistance",value:function(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=c.sub(t,e),a=o[1],u=-o[0],i=-e[0]*o[1]+o[0]*e[1],f=(n[0]*a+n[1]*u+i)/c.length(o);return r?f:Math.abs(f)}}]),n}(),l=function(n,e,t,r){var o=r*r;return[n[0]*(o-2*r+1)+2*e[0]*(1-r)*r+t[0]*o,n[1]*(o-2*r+1)+2*e[1]*(1-r)*r+t[1]*o]},s=function(n,e,t,r){return[2*r*(n[0]-2*e[0]+t[0])+2*(-n[0]+e[0]),2*r*(n[1]-2*e[1]+t[1])+2*(-n[1]+e[1])]},d=function(n,e,t,r,o){var a=o*o,u=o*o*o;return[n[0]*(3*a-u-3*o+1)+e[0]*(3*u-6*a+3*o)+t[0]*(-3*u+3*a)+r[0]*u,n[1]*(3*a-u-3*o+1)+e[1]*(3*u-6*a+3*o)+t[1]*(-3*u+3*a)+r[1]*u]},p=function(n,e,t,r,o){var a=o*o;return[-3*n[0]+3*e[0]+2*o*(3*n[0]-6*e[0]+3*t[0])+3*a*(-n[0]+3*e[0]-3*t[0]+r[0]),-3*n[1]+3*e[1]+2*o*(3*n[1]-6*e[1]+3*t[1])+3*a*(-n[1]+3*e[1]-3*t[1]+r[1])]},m=function(n,e,t,r){for(var o=[],a=[],u=null,i=0;i<r;i++){var f=i/(r-1),v=l(n,e,t,f),d=c.normalize(s(n,e,t,f));o.push({p:v,t:d,n:[-d[1],d[0]]}),u&&a.push(c.distance(v,u)),u=v}var p=a.reduce((function(n,e){return n+e}));return{points:o,section:a,length:p}},g=function(n,e,t,r,o){for(var a=[],u=[],i=null,f=0;f<o;f++){var v=f/(o-1),l=d(n,e,t,r,v),s=c.normalize(p(n,e,t,r,v));a.push({p:l,t:s,n:[-s[1],s[0]]}),i&&u.push(c.distance(l,i)),i=l}var m=u.reduce((function(n,e){return n+e}));return{points:a,section:u,length:m}}},2:function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var r=t(3),o=t.n(r),a=t(4),u=t.n(a),i=function(){function n(){o()(this,n)}return u()(n,null,[{key:"mix",value:function(n,e,t){return n*(1-t)+e*t}},{key:"fract",value:function(n){return(n%=1)<0?n+1:n}},{key:"inverseMix",value:function(n,e,t){return(t-n)/(e-n)}},{key:"clamp",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return n<=e?e:n>=t?t:n}},{key:"smoothstep",value:function(n,e,t){return(t=clamp(inverseMix(n,e,t)))*t*(3-2*t)}}]),n}()},3:function(n,e){n.exports=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}},4:function(n,e){function t(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}n.exports=function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}},55:function(n,e){n.exports="precision highp float;\nvarying vec2 vTextureCoord;\nuniform vec2 uSize;\nuniform float uTime;\nconst float pi=3.14159265359;\nconst int OCTAVE_NUM=3;\n\nvec3 random3(vec3 p){\n  vec3 f=vec3(\n    dot(p,vec3(1.271,3.117,.695)),\n    dot(p,vec3(2.695,1.833,1.327)),\n    dot(p,vec3(2.473,1.085,.965))\n  );\n  return-1.+2.*fract(sin(f)*437.585453123);\n}\nvec2 random2(vec2 p,vec2 loop){\n  if(loop.x!=0.){\n    p.x=mod(p.x,loop.x);\n  }\n  if(loop.y!=0.){\n    p.y=mod(p.y,loop.y);\n  }\n  vec2 f=vec2(\n    dot(p,vec2(1.271,3.117)),\n    dot(p,vec2(2.695,1.833))\n  );\n  return-1.+2.*fract(sin(f)*437.585453123);\n}\nfloat random(vec2 p){\n  float f=dot(p,vec2(1.271,3.117));\n  return-1.+2.*fract(sin(f)*437.585453123);\n}\nfloat noise_perlin(vec2 p,vec2 loop){\n  vec2 i=floor(p);\n  vec2 f=fract(p);\n  float a=dot(random2(i,loop),f);\n  float b=dot(random2(i+vec2(1.,0.),loop),f-vec2(1.,0.));\n  float c=dot(random2(i+vec2(0.,1.),loop),f-vec2(0.,1.));\n  float d=dot(random2(i+vec2(1.,1.),loop),f-vec2(1.,1.));\n  //vec2 u=smoothstep(0.,1.,f);\n  vec2 u=f*f*(3.-2.*f);\n  return mix(mix(a,b,u.x),mix(c,d,u.x),u.y);\n}\nfloat noise_perlin(vec3 p){\n  vec3 i=floor(p);\n  vec3 s=fract(p);\n  float a=dot(random3(i),s);\n  float b=dot(random3(i+vec3(1,0,0)),s-vec3(1,0,0));\n  float c=dot(random3(i+vec3(0,1,0)),s-vec3(0,1,0));\n  float d=dot(random3(i+vec3(0,0,1)),s-vec3(0,0,1));\n  float e=dot(random3(i+vec3(1,1,0)),s-vec3(1,1,0));\n  float f=dot(random3(i+vec3(1,0,1)),s-vec3(1,0,1));\n  float g=dot(random3(i+vec3(0,1,1)),s-vec3(0,1,1));\n  float h=dot(random3(i+vec3(1,1,1)),s-vec3(1,1,1));\n  vec3 u=smoothstep(0.,1.,s);\n  //vec3 u=s*s*(3.-2.*s);\n  return mix(mix(mix(a,b,u.x),mix(c,e,u.x),u.y),mix(mix(d,f,u.x),mix(g,h,u.x),u.y),u.z);\n}\nfloat fbm_noise_perlin(vec3 p){\n  float f=0.;\n  float a=.5;\n  for(int i=0;i<5;i++){\n    f+=a*noise_perlin(p);\n    p=2.*p;\n    a/=2.;\n  }\n  return f;\n}\nfloat fbm_abs_noise_perlin(vec3 p){\n  float f=0.;\n  float a=.5;\n  for(int i=0;i<5;i++){\n    f+=a*abs(noise_perlin(p));\n    p=2.*p;\n    a/=2.;\n  }\n  return f;\n}\nfloat eddy(vec2 uv,float N){\n  float d=length(uv);\n  float a=atan(uv.y,uv.x);\n  float s=sin(d*N+a)/d*.5+.5;\n  return s;\n}\n\nfloat ring(vec2 f){\n  float d0=smoothstep(1.,.99,length(f)/.5);\n  float d1=smoothstep(1.,.99,length(f)/.49);\n  return abs(d0-d1);\n}\nfloat distLine(vec2 p,vec2 a,vec2 b,float w){\n  vec2 pa=p-a;\n  vec2 ba=b-a;\n  float t=clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\n  return length(pa-ba*t)/w;\n}\nmat2 rotCoord(float a){\n  float sin_factor=sin(a);\n  float cos_factor=cos(a);\n  mat2 rot=mat2(cos_factor,sin_factor,-sin_factor,cos_factor);\n  return rot;\n}\nvec2 rotPos(vec2 f,float a){\n  return f*rotCoord(a);\n}\nvec2 ballPos(vec2 f,vec2 i,float t){\n  i+=f;\n  return f+rotPos(vec2(.5,0.),t+.2*(i.x+i.y)*pi);\n}\nfloat ball(vec2 f,float r){\n  return smoothstep(1.,.99,length(f)/r);\n}\n\nfloat gradual(vec2 p,vec2 a,vec2 b){\n  vec2 pa=p-a;\n  vec2 ba=b-a;\n  return clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\n}\nfloat distHexagon(vec2 uv){\n  uv=abs(uv);\n  float c=dot(uv,normalize(vec2(1.,1.7320508)));\n  c=max(c,uv.x);\n  return c;\n}\nvec2 hexagon(vec2 uv){\n  float sqrt3=1.7320508;\n  vec2 r=vec2(1.,sqrt3);\n  vec2 h=r*.5;\n  vec2 a=mod(uv,r)-h;\n  vec2 b=mod(uv-h,r)-h;\n  vec2 g;\n  if(length(a)<length(b)){\n    g=a;\n  }else{\n    g=b;\n  }\n  return g;\n}\nfloat cross(vec2 v0,vec2 v1){\n  return v0.x*v1.y-v0.y*v1.x;\n}\nfloat lineToLineRate(vec2 uv,vec2 p0,vec2 p1,vec2 p2,vec2 p3){\n  vec2 v01=p1-p0;\n  vec2 v23=p3-p2;\n  vec2 v02=p2-p0;\n  float a=cross(v23-v01,v01);\n  float b=cross(uv,v23-v01)+cross(v23-v01,p0)+cross(v02,v01);\n  float c=cross(uv,v02)+cross(v02,p0);\n  return(-b+sqrt(b*b-4.*a*c))/(2.*a);\n}\nvec2 fourCornerCoord(vec2 uv,vec2 p0,vec2 p1,vec2 p2,vec2 p3,bool crop){\n  vec2 v01=p1-p0;\n  vec2 v23=p3-p2;\n  vec2 v02=p2-p0;\n  vec2 v13=p3-p1;\n  vec2 v0123=v23-v01;\n  \n  if(crop){\n    if(cross(uv-p0,v01)<0.){\n      return vec2(0.);\n    }\n    if(cross(uv-p2,v23)>0.){\n      return vec2(0.);\n    }\n    if(cross(uv-p0,v02)>0.){\n      return vec2(0.);\n    }\n    if(cross(uv-p1,v13)<0.){\n      return vec2(0.);\n    }\n  }\n  \n  vec2 a=vec2(0.);\n  if(v0123.x==0.&&v0123.y==0.){\n    a.x+=(uv.x-p0.x)/v02.x;\n    a.y+=(uv.y-p0.y)/v01.y;\n  }else if(v0123.x==0.){\n    float x=lineToLineRate(uv,p1,p3,p0,p2);\n    a.x+=x;\n    vec2 p02=mix(p0,p2,x);\n    vec2 p13=mix(p1,p3,x);\n    a.y+=(uv.y-p02.y)/(p13.y-p02.y);\n  }else if(v0123.y==0.){\n    float y=lineToLineRate(uv,p0,p1,p2,p3);\n    a.y+=y;\n    vec2 p01=mix(p0,p1,y);\n    vec2 p23=mix(p2,p3,y);\n    a.x+=(uv.x-p01.x)/(p23.x-p01.x);\n  }else{\n    a.x+=lineToLineRate(uv,p1,p3,p0,p2);\n    a.y+=lineToLineRate(uv,p0,p1,p2,p3);\n  }\n  return a;\n}\nvec4 wave(vec2 uv,float t){\n  vec2 f=fract(uv);\n  vec2 i=floor(uv);\n  f=(f-.5);\n  vec2 mainPos=ballPos(vec2(0.,0.),i,t);\n  \n  vec2 rightPos=ballPos(vec2(1.,0.),i,t);\n  vec2 leftPos=ballPos(vec2(-1.,0.),i,t);\n  vec2 bottomPos=ballPos(vec2(0.,1.),i,t);\n  vec2 topPos=ballPos(vec2(0.,-1.),i,t);\n  \n  vec2 rightBottomPos=ballPos(vec2(1.,1.),i,t);\n  vec2 leftBottomPos=ballPos(vec2(-1.,1.),i,t);\n  vec2 rightTopPos=ballPos(vec2(1.,-1.),i,t);\n  vec2 leftTopPos=ballPos(vec2(-1.,-1.),i,t);\n  \n  vec4 c=vec4(0.);\n  //c+=vec4(f,0.,1.);\n  \n  c+=smoothstep(1.,0.,distLine(f,mainPos,rightPos,.05));\n  c+=smoothstep(1.,0.,distLine(f,mainPos,leftPos,.05));\n  c+=smoothstep(1.,0.,distLine(f,mainPos,bottomPos,.05));\n  c+=smoothstep(1.,0.,distLine(f,mainPos,topPos,.05));\n  \n  c+=ball((f-mainPos),.1);\n  c+=ball((f-rightPos),.1);\n  c+=ball((f-leftPos),.1);\n  c+=ball((f-bottomPos),.1);\n  c+=ball((f-topPos),.1);\n  vec2 uv0=vec2(0.);\n  uv0=fourCornerCoord(f,mainPos,bottomPos,rightPos,rightBottomPos,true);\n  c+=vec4(uv0,0.,1.);\n  uv0=fourCornerCoord(f,leftPos,leftBottomPos,mainPos,bottomPos,true);\n  c+=vec4(uv0,0.,1.);\n  uv0=fourCornerCoord(f,topPos,mainPos,rightTopPos,rightPos,true);\n  c+=vec4(uv0,0.,1.);\n  uv0=fourCornerCoord(f,leftTopPos,leftPos,topPos,mainPos,true);\n  c+=vec4(uv0,0.,1.);\n  \n  return c;\n}\n\nvoid main()\n{\n  \n  vec2 aspectRatio=vec2(uSize.x/uSize.y,1.);\n  if(vTextureCoord.x<.5){\n    if(vTextureCoord.y<.5){\n      //六邊形\n      vec4 color=vec4(0.);\n      vec2 uv=vTextureCoord;\n      uv=uv*2.;\n      uv=fract(uv);\n      vec2 uvA=uv;\n      \n      uv-=.5;\n      uv*=aspectRatio;\n      \n      uv*=5.;\n      vec2 g=hexagon(uv);\n      if(uvA.x<.5){\n        color+=vec4(vec3(g,0.),1.);\n      }\n      vec2 i=uv-g;\n      float angle=atan(g.y,g.x);\n      g*=rotCoord(.2*(i.x+i.y)*pi-uTime);\n      float f=distHexagon(g);\n      f=sin(f*40.+angle+.2*(i.x+i.y)*pi-uTime)*.5+.5;\n      f=step(f,length(g));\n      if(uvA.x>=.5){\n        color+=vec4(vec3(f*.5),1.);\n      }\n      gl_FragColor=color;\n    }else{\n      //波浪\n      vec4 color=vec4(0.);\n      vec2 uv=vTextureCoord;\n      uv=uv*2.-vec2(0.,1.);\n      uv=fract(uv);\n      vec2 uvA=uv;\n      \n      uv-=.5;\n      uv*=aspectRatio;\n      \n      vec2 grid=vec2(10.,10.);\n      uv*=grid;\n      color+=wave(uv,pi*uTime);\n      \n      /*float d0=length(uv);\n      vec2 uv1=uv-vec2(.25,0.);\n      float d1=length(uv1);\n      float a0=.5*atan(uv.x,uv.y)/pi+.5;\n      float a1=.5*atan(uv1.x,uv1.y)/pi+.5;\n      vec2 rate=vec2(20.,20.);\n      float a=a0-a1;\n      float d=min(d0/d1,d1/d0);\n      vec2 uv0=vec2(a,d)*rate;\n      vec2 f=fract(uv0);\n      color+=vec4(f,0.,1.);*/\n      \n      //vec2 gv=fract(uv);\n      //float gridLineWidth=1.;\n      //vec2 gridWidth=gridLineWidth*grid/uSize;\n      //if(gv.x<gridWidth.x||gv.x>1.-gridWidth.x||gv.y<gridWidth.y||gv.y>1.-gridWidth.y){color=vec4(vec3(1.,0.,0.),1.);}\n      gl_FragColor=color;\n    }\n  }else{\n    if(vTextureCoord.y<.5){\n      //漩渦\n      vec4 color=vec4(0.);\n      vec2 uv=vTextureCoord;\n      uv=uv*2.-vec2(1.,0.);\n      uv=fract(uv);\n      vec2 uvA=uv;\n      \n      uv-=.5;\n      uv*=aspectRatio;\n      float d=length(uv);\n      float a=.5*atan(uv.x,uv.y)/pi+.5;\n      vec2 uv0=vec2(fract(a+d*5.),d);\n      if(uvA.x<.5){\n        color+=vec4(uv0,0.,1.);\n      }\n      \n      vec2 mainPos=vec2(.5,sin(uTime*.5)*.5+.5);\n      color+=ball((uv0-mainPos),.1);\n      \n      if(uvA.x>=.5){\n        color+=vec4(vec3(noise_perlin(uv0*vec2(10.,50.)+vec2(0.,uTime*3.),vec2(0.,0.))*.5+.5),1.);\n      }\n      gl_FragColor=color;\n    }else{\n      //圓形座標\n      vec4 color=vec4(0.);\n      vec2 uv=vTextureCoord;\n      uv=uv*2.-vec2(1.,1.);\n      uv=fract(uv);\n      vec2 uvA=uv;\n      \n      uv-=.5;\n      uv*=aspectRatio;\n      \n      float d=length(uv);\n      float a=.5*atan(uv.x,uv.y)/pi+.5;\n      vec2 rate=vec2(20.,10.);\n      vec2 uv0=vec2(a,d-uTime*.5)*rate;\n      \n      vec2 f=fract(uv0);\n      vec2 i=floor(uv0);\n      float rand0=random(i*10.+vec2(1.,1.));\n      float rand1=random(i*20.+vec2(1.,1.));\n      \n      float a0=i.x/rate.x+.5/rate.x;\n      f-=.5;\n      if(uvA.x<.5){\n        color+=vec4(f,0.,1.);\n      }\n      float r=.1;\n      //f+=vec2((.5-r0)*rand0,(.5-r0)*rand1);\n      f+=vec2((.5-r)*rand0,(.5-.25)*rand1);\n      f*=vec2(2.*d*pi,1.)/vec2(rate.x/rate.y,1.);\n      //f*=rotCoord(a0*2.*pi+pi);//座標轉回來\n      \n      float rand=random(i*5.);\n      //float ballVal=smoothstep(0.,.2,1.-length(f)/r0);\n      //float ff=max(1.-r,0.)*(1.-step(rand*.5+.5,.1))*ballVal;\n      float val=smoothstep(1.,0.,distLine(f,vec2(0.,-.25),vec2(0.,.25),.05));\n      float ff=max(1.-d,0.)*(1.-step(rand*.5+.5,.75))*val;\n      if(uvA.x>=.5){\n        color+=vec4(vec3(ff),1.);\n      }\n      gl_FragColor=color;\n    }\n  }\n}\n\n"},6:function(n,e){n.exports="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nvarying highp vec2 vTextureCoord;\nuniform float uFlipY;\nvoid main(void){\n  vTextureCoord=aTextureCoord;\n  gl_Position=vec4((2.*aVertexPosition+vec2(-1.,-1.))*vec2(1.,uFlipY),0.,1.);\n}"},92:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t(1),a=t(6),u=t.n(a),i=t(55),c=t.n(i),f=function(n,e,t){var o=Object(r.g)(n,e,t);return{program:o,attribLocations:{vertexPosition:r.b.attribFloat(n,o,"aVertexPosition",2),textureCoord:r.b.attribFloat(n,o,"aTextureCoord",2)},uniformLocations:{flipY:r.j.uniform1f(n,o,"uFlipY"),size:r.j.uniform2fv(n,o,"uSize"),time:r.j.uniform1f(n,o,"uTime")}}},v=function(n){return Object.assign(Object(r.i)(n,f,u.a,c.a),{draw:function(e){n.drawElements(n.TRIANGLES,e,n.UNSIGNED_BYTE,0)}})};function l(n){var e=[[0,0],[1,0],[1,1],[0,1]].flat(),t=Object(r.a)(n,e,2),o=[[0,0],[1,0],[1,1],[0,1]].flat(),a=Object(r.a)(n,o,2),u=[[0,1,3],[1,2,3]].flat();return{positionBufferData:t,textureCoordinatesBufferData:a,indicesBufferData:Object(r.d)(n,u)}}!function(){var n=document.querySelector("#glcanvas"),e=n.getContext("webgl",{alpha:!1});if(!e)return void alert("無法初始化WebGL。您的瀏覽器或機器可能不支持它。");var t={coordinateShader:v(e)},a={face:l(e),view:l(e)},u=[.5*e.canvas.width,.5*e.canvas.height];n.addEventListener("mousemove",(function(n){o.c.set(u,n.pageX,n.pageY)}));var i=[e.canvas.clientWidth,e.canvas.clientHeight],c={};var f=0;requestAnimationFrame((function n(o){var v=.001*(o-f);f=o,requestAnimationFrame(n),function(n,e,t,o,a){var u=a.now,i=(a.framebufferTextures,a.mPos,a.size),c=t.face,f=e.coordinateShader;f.use(),f.attribSet({vertexPosition:c.positionBufferData.buffer,textureCoord:c.textureCoordinatesBufferData.buffer}),f.uniformSet({size:i,time:.001*u,flipY:-1}),Object(r.k)(n),f.draw(c.indicesBufferData.length)}(e,t,a,0,{now:o,delta:v,mPos:u,framebufferTextures:c,size:i})}))}()}});