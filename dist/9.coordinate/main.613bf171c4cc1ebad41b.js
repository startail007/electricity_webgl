!function(r){var n={};function e(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return r[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=r,e.c=n,e.d=function(r,n,t){e.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:t})},e.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},e.t=function(r,n){if(1&n&&(r=e(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var o in r)e.d(t,o,function(n){return r[n]}.bind(null,o));return t},e.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(n,"a",n),n},e.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},e.p="",e(e.s=72)}({0:function(r,n,e){"use strict";e.d(n,"h",(function(){return p})),e.d(n,"f",(function(){return t})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return a})),e.d(n,"d",(function(){return i})),e.d(n,"g",(function(){return c})),e.d(n,"b",(function(){return s})),e.d(n,"i",(function(){return d})),e.d(n,"e",(function(){return m})),e.d(n,"j",(function(){return b}));var t=function(r,n,e){var t=o(r,r.VERTEX_SHADER,n),a=o(r,r.FRAGMENT_SHADER,e),i=r.createProgram();return r.attachShader(i,t),r.attachShader(i,a),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)?i:(alert("無法初始化著色器程序: "+r.getProgramInfoLog(i)),null)},o=function(r,n,e){var t=r.createShader(n);return r.shaderSource(t,e),r.compileShader(t),r.getShaderParameter(t,r.COMPILE_STATUS)?t:(alert("編譯著色器時發生錯誤: "+r.getShaderInfoLog(t)),r.deleteShader(t),null)},a=function(r,n,e){var t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.STATIC_DRAW,i=r.createBuffer(),u=0,c={buffer:i,get data(){return t},get length(){return t.length},set:function(n){t=new o(n),u=100*Math.ceil(t.length/e/100),r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,u*e*4,a),r.bufferSubData(r.ARRAY_BUFFER,0,t)},add:function(n){var c=t.length,v=100*Math.floor(t.length/e/100);v>=u&&(u=v+100,r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,u*e*4,a),r.bufferSubData(r.ARRAY_BUFFER,0,t));var f=new o(c+e);f.set(t),t=f,this.item(c/e,n)},item:function(n,a){var u=new o(a);t.set(u,n*e),r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferSubData(r.ARRAY_BUFFER,n*e*4,u)},getItem:function(r){return Array.from(t.slice(r*e,(r+1)*e))}};return c.set(n),c},i=function(r,n){var e,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.STATIC_DRAW,a=r.createBuffer(),i=0,u=3,c={buffer:a,get data(){return e},get length(){return e.length},set:function(n){e=new t(n),i=100*Math.ceil(e.length/u/100),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a),r.bufferData(r.ELEMENT_ARRAY_BUFFER,i*u*4,o),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,e)},add:function(n){var c=e.length,v=100*Math.floor(e.length/u/100);v>=i&&(i=v+100,r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a),r.bufferData(r.ELEMENT_ARRAY_BUFFER,i*u*4,o),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,e));var f=new t(c+u);f.set(e),e=f,this.item(c/u,n)},item:function(n,o){var i=new t(o);e.set(i,n*u),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,n*u*4,i)},getItem:function(r){return Array.from(e.slice(r*u,(r+1)*u))}};return c.set(n),c},u=function(r){var n=r.createTexture();return r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),n},c=function(r,n){var e=u(r),t=new Image;return t.onload=function(){e.width=t.width,e.height=t.height,r.bindTexture(r.TEXTURE_2D,e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.bindTexture(r.TEXTURE_2D,null)},t.src=n,e},v=function(r,n,e,t){r.bindFramebuffer(r.FRAMEBUFFER,n),void 0!==e&&void 0!==t&&r.viewport(0,0,e,t)},f=function(r,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n?e?v(r,n.framebuffer,n.width,n.height):v(r,n.framebuffer):e?v(r,null,r.canvas.width,r.canvas.height):v(r,null)},l=function(r,n,e){var t={width:n||r.canvas.clientWidth,height:e||r.canvas.clientHeight},o=u(r);t.texture=o,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.width,t.height,0,r.RGBA,r.UNSIGNED_BYTE,null);var a=r.createFramebuffer();return t.framebuffer=a,r.bindFramebuffer(r.FRAMEBUFFER,a),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0),r.bindFramebuffer(r.FRAMEBUFFER,null),t},s={attribFloat:function(r,n,e,t){var o=r.getAttribLocation(n,e);return r.enableVertexAttribArray(o),function(n){r.bindBuffer(r.ARRAY_BUFFER,n),r.vertexAttribPointer(o,t,r.FLOAT,!1,0,0)}}},d={uniform1f:function(r,n,e){var t=r.getUniformLocation(n,e);return function(n){r.uniform1f(t,n)}},uniform2fv:function(r,n,e){var t=r.getUniformLocation(n,e);return function(n){r.uniform2fv(t,n)}},uniform3fv:function(r,n,e){var t=r.getUniformLocation(n,e);return function(n){r.uniform3fv(t,n)}},uniformTexture:function(r,n,e,t){var o=r.getUniformLocation(n,e);return function(n){r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,n),r.uniform1i(o,t)}},uniform1i:function(r,n,e){var t=r.getUniformLocation(n,e);return function(n){r.uniform1i(t,n)}},uniformMatrix4fv:function(r,n,e){var t=r.getUniformLocation(n,e);return function(n){r.uniformMatrix4fv(t,!1,n)}}},p=function(r,n,e,t,o){var a=n(r,e,t);return{programInfo:a,use:function(){r.useProgram(a.program)},attribSet:function(r){for(var n in r)a.attribLocations[n]&&a.attribLocations[n](r[n])},uniformSet:function(r){for(var n in r)a.uniformLocations[n]&&a.uniformLocations[n](r[n])},elementSet:function(n){r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n)}}},m=function(r){return[[r[0],r[1]],[r[2],r[1]],[r[2],r[3]],[r[0],r[3]]].flat()},g=function(r){r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT)},b=function(r,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];f(r,n,t),e&&g(r)}},1:function(r,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return v}));var t=e(3),o=e.n(t),a=e(4),i=e.n(a),u=e(2),c=function(){function r(){o()(this,r)}return i()(r,null,[{key:"normalize",value:function(n){return r.length(n)?r.scale(n,1/r.length(n)):n}},{key:"rotate",value:function(r,n){var e=Math.cos(n),t=Math.sin(n);return[r[0]*e-r[1]*t,r[1]*e+r[0]*t]}},{key:"dot",value:function(r,n){return r[0]*n[0]+r[1]*n[1]}},{key:"cross",value:function(r,n){return r[0]*n[1]-r[1]*n[0]}},{key:"add",value:function(r,n){return[r[0]+n[0],r[1]+n[1]]}},{key:"sub",value:function(r,n){return[r[0]-n[0],r[1]-n[1]]}},{key:"projection",value:function(n,e){var t=r.dot(n,e)/r.dot(e,e);return[e[0]*t,e[1]*t]}},{key:"length",value:function(n){return Math.sqrt(r.dot(n,n))}},{key:"mul",value:function(r,n){return[r[0]*n[0],r[1]*n[1]]}},{key:"div",value:function(r,n){return[r[0]/n[0],r[1]/n[1]]}},{key:"scale",value:function(r,n){return[r[0]*n,r[1]*n]}},{key:"collisionCalc",value:function(n,e,t,o){return r.scale(r.add(r.scale(n,t-o),r.scale(e,2*o)),1/(t+o))}},{key:"getAngle",value:function(r){return Math.atan2(r[1],r[0])}},{key:"floor",value:function(r){return[Math.floor(r[0]),Math.floor(r[1])]}},{key:"fract",value:function(r){return[u.a.fract(r[0]),u.a.fract(r[1])]}},{key:"sin",value:function(r){return[Math.sin(r[0]),Math.sin(r[1])]}},{key:"cos",value:function(r){return[Math.cos(r[0]),Math.cos(r[1])]}},{key:"distance",value:function(n,e){return r.length(r.sub(e,n))}},{key:"mix",value:function(r,n,e){return[u.a.mix(r[0],n[0],e),u.a.mix(r[1],n[1],e)]}},{key:"abs",value:function(r){return[Math.abs(r[0]),Math.abs(r[1])]}},{key:"getLine",value:function(n,e){return{pos:n,dir:r.sub(e,n)}}}]),r}(),v=function(){function r(){o()(this,r)}return i()(r,null,[{key:"set",value:function(r,n,e){return r[0]=n,r[1]=e,r}},{key:"normalize",value:function(n){var e=c.length(n);return e&&r.scale(n,1/e),n}},{key:"add",value:function(r,n){return r[0]+=n[0],r[1]+=n[1],r}},{key:"sub",value:function(r,n){return r[0]-=n[0],r[1]-=n[1],r}},{key:"scale",value:function(r,n){return r[0]*=n,r[1]*=n,r}},{key:"rotate",value:function(r,n){var e=Math.cos(n),t=Math.sin(n),o=[r[0]*e-r[1]*t,r[1]*e+r[0]*t];return r[0]=o[0],r[1]=o[1],r}}]),r}()},2:function(r,n,e){"use strict";e.d(n,"a",(function(){return u}));var t=e(3),o=e.n(t),a=e(4),i=e.n(a),u=function(){function r(){o()(this,r)}return i()(r,null,[{key:"mix",value:function(r,n,e){return r*(1-e)+n*e}},{key:"fract",value:function(r){return(r%=1)<0?r+1:r}},{key:"inverseMix",value:function(r,n,e){return(e-r)/(n-r)}},{key:"clamp",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r<=n?n:r>=e?e:r}},{key:"smoothstep",value:function(r,n,e){return(e=clamp(inverseMix(r,n,e)))*e*(3-2*e)}}]),r}()},3:function(r,n){r.exports=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}},4:function(r,n){function e(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}r.exports=function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}},47:function(r,n){r.exports="precision highp float;\r\nvarying vec2 vTextureCoord;\r\nuniform vec2 uSize;\r\nuniform float uTime;\r\nconst float pi=3.14159265359;\r\nconst int OCTAVE_NUM=3;\r\n\r\nvec3 random3(vec3 p){\r\n  vec3 f=vec3(\r\n    dot(p,vec3(1.271,3.117,.695)),\r\n    dot(p,vec3(2.695,1.833,1.327)),\r\n    dot(p,vec3(2.473,1.085,.965))\r\n  );\r\n  return-1.+2.*fract(sin(f)*437.585453123);\r\n}\r\nvec2 random2(vec2 p,vec2 loop){\r\n  if(loop.x!=0.){\r\n    p.x=mod(p.x,loop.x);\r\n  }\r\n  if(loop.y!=0.){\r\n    p.y=mod(p.y,loop.y);\r\n  }\r\n  vec2 f=vec2(\r\n    dot(p,vec2(1.271,3.117)),\r\n    dot(p,vec2(2.695,1.833))\r\n  );\r\n  return-1.+2.*fract(sin(f)*437.585453123);\r\n}\r\nfloat random(vec2 p){\r\n  float f=dot(p,vec2(1.271,3.117));\r\n  return-1.+2.*fract(sin(f)*437.585453123);\r\n}\r\nfloat noise_perlin(vec2 p,vec2 loop){\r\n  vec2 i=floor(p);\r\n  vec2 f=fract(p);\r\n  float a=dot(random2(i,loop),f);\r\n  float b=dot(random2(i+vec2(1.,0.),loop),f-vec2(1.,0.));\r\n  float c=dot(random2(i+vec2(0.,1.),loop),f-vec2(0.,1.));\r\n  float d=dot(random2(i+vec2(1.,1.),loop),f-vec2(1.,1.));\r\n  //vec2 u=smoothstep(0.,1.,f);\r\n  vec2 u=f*f*(3.-2.*f);\r\n  return mix(mix(a,b,u.x),mix(c,d,u.x),u.y);\r\n}\r\nfloat noise_perlin(vec3 p){\r\n  vec3 i=floor(p);\r\n  vec3 s=fract(p);\r\n  float a=dot(random3(i),s);\r\n  float b=dot(random3(i+vec3(1,0,0)),s-vec3(1,0,0));\r\n  float c=dot(random3(i+vec3(0,1,0)),s-vec3(0,1,0));\r\n  float d=dot(random3(i+vec3(0,0,1)),s-vec3(0,0,1));\r\n  float e=dot(random3(i+vec3(1,1,0)),s-vec3(1,1,0));\r\n  float f=dot(random3(i+vec3(1,0,1)),s-vec3(1,0,1));\r\n  float g=dot(random3(i+vec3(0,1,1)),s-vec3(0,1,1));\r\n  float h=dot(random3(i+vec3(1,1,1)),s-vec3(1,1,1));\r\n  vec3 u=smoothstep(0.,1.,s);\r\n  //vec3 u=s*s*(3.-2.*s);\r\n  return mix(mix(mix(a,b,u.x),mix(c,e,u.x),u.y),mix(mix(d,f,u.x),mix(g,h,u.x),u.y),u.z);\r\n}\r\nfloat fbm_noise_perlin(vec3 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*noise_perlin(p);\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nfloat fbm_abs_noise_perlin(vec3 p){\r\n  float f=0.;\r\n  float a=.5;\r\n  for(int i=0;i<5;i++){\r\n    f+=a*abs(noise_perlin(p));\r\n    p=2.*p;\r\n    a/=2.;\r\n  }\r\n  return f;\r\n}\r\nfloat eddy(vec2 uv,float N){\r\n  float d=length(uv);\r\n  float a=atan(uv.y,uv.x);\r\n  float s=sin(d*N+a)/d*.5+.5;\r\n  return s;\r\n}\r\n\r\nfloat ring(vec2 f){\r\n  float d0=smoothstep(1.,.99,length(f)/.5);\r\n  float d1=smoothstep(1.,.99,length(f)/.49);\r\n  return abs(d0-d1);\r\n}\r\nfloat distLine(vec2 p,vec2 a,vec2 b,float w){\r\n  vec2 pa=p-a;\r\n  vec2 ba=b-a;\r\n  float t=clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\r\n  return length(pa-ba*t)/w;\r\n}\r\nmat2 rotCoord(float a){\r\n  float sin_factor=sin(a);\r\n  float cos_factor=cos(a);\r\n  mat2 rot=mat2(cos_factor,sin_factor,-sin_factor,cos_factor);\r\n  return rot;\r\n}\r\nvec2 rotPos(vec2 f,float a){\r\n  return f*rotCoord(a);\r\n}\r\nvec2 ballPos(vec2 f,vec2 i,float t){\r\n  i+=f;\r\n  return f+rotPos(vec2(.5,0.),t+.2*(i.x+i.y)*pi);\r\n}\r\nfloat ball(vec2 f,float r){\r\n  return smoothstep(1.,.99,length(f)/r);\r\n}\r\n\r\nfloat gradual(vec2 p,vec2 a,vec2 b){\r\n  vec2 pa=p-a;\r\n  vec2 ba=b-a;\r\n  return clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\r\n}\r\nfloat distHexagon(vec2 uv){\r\n  uv=abs(uv);\r\n  float c=dot(uv,normalize(vec2(1.,1.7320508)));\r\n  c=max(c,uv.x);\r\n  return c;\r\n}\r\nvec2 hexagon(vec2 uv){\r\n  float sqrt3=1.7320508;\r\n  vec2 r=vec2(1.,sqrt3);\r\n  vec2 h=r*.5;\r\n  vec2 a=mod(uv,r)-h;\r\n  vec2 b=mod(uv-h,r)-h;\r\n  vec2 g;\r\n  if(length(a)<length(b)){\r\n    g=a;\r\n  }else{\r\n    g=b;\r\n  }\r\n  return g;\r\n}\r\nfloat cross(vec2 v0,vec2 v1){\r\n  return v0.x*v1.y-v0.y*v1.x;\r\n}\r\nfloat lineToLineRate(vec2 uv,vec2 p0,vec2 p1,vec2 p2,vec2 p3){\r\n  vec2 v01=p1-p0;\r\n  vec2 v23=p3-p2;\r\n  vec2 v02=p2-p0;\r\n  float a=cross(v23-v01,v01);\r\n  float b=cross(uv,v23-v01)+cross(v23-v01,p0)+cross(v02,v01);\r\n  float c=cross(uv,v02)+cross(v02,p0);\r\n  return(-b+sqrt(b*b-4.*a*c))/(2.*a);\r\n}\r\nvec2 fourCornerCoord(vec2 uv,vec2 p0,vec2 p1,vec2 p2,vec2 p3,bool crop){\r\n  vec2 v01=p1-p0;\r\n  vec2 v23=p3-p2;\r\n  vec2 v02=p2-p0;\r\n  vec2 v13=p3-p1;\r\n  vec2 v0123=v23-v01;\r\n  \r\n  if(crop){\r\n    if(cross(uv-p0,v01)<0.){\r\n      return vec2(0.);\r\n    }\r\n    if(cross(uv-p2,v23)>0.){\r\n      return vec2(0.);\r\n    }\r\n    if(cross(uv-p0,v02)>0.){\r\n      return vec2(0.);\r\n    }\r\n    if(cross(uv-p1,v13)<0.){\r\n      return vec2(0.);\r\n    }\r\n  }\r\n  \r\n  vec2 a=vec2(0.);\r\n  if(v0123.x==0.&&v0123.y==0.){\r\n    a.x+=(uv.x-p0.x)/v02.x;\r\n    a.y+=(uv.y-p0.y)/v01.y;\r\n  }else if(v0123.x==0.){\r\n    float x=lineToLineRate(uv,p1,p3,p0,p2);\r\n    a.x+=x;\r\n    vec2 p02=mix(p0,p2,x);\r\n    vec2 p13=mix(p1,p3,x);\r\n    a.y+=(uv.y-p02.y)/(p13.y-p02.y);\r\n  }else if(v0123.y==0.){\r\n    float y=lineToLineRate(uv,p0,p1,p2,p3);\r\n    a.y+=y;\r\n    vec2 p01=mix(p0,p1,y);\r\n    vec2 p23=mix(p2,p3,y);\r\n    a.x+=(uv.x-p01.x)/(p23.x-p01.x);\r\n  }else{\r\n    a.x+=lineToLineRate(uv,p1,p3,p0,p2);\r\n    a.y+=lineToLineRate(uv,p0,p1,p2,p3);\r\n  }\r\n  return a;\r\n}\r\nvec4 wave(vec2 uv,float t){\r\n  vec2 f=fract(uv);\r\n  vec2 i=floor(uv);\r\n  f=(f-.5);\r\n  vec2 mainPos=ballPos(vec2(0.,0.),i,t);\r\n  \r\n  vec2 rightPos=ballPos(vec2(1.,0.),i,t);\r\n  vec2 leftPos=ballPos(vec2(-1.,0.),i,t);\r\n  vec2 bottomPos=ballPos(vec2(0.,1.),i,t);\r\n  vec2 topPos=ballPos(vec2(0.,-1.),i,t);\r\n  \r\n  vec2 rightBottomPos=ballPos(vec2(1.,1.),i,t);\r\n  vec2 leftBottomPos=ballPos(vec2(-1.,1.),i,t);\r\n  vec2 rightTopPos=ballPos(vec2(1.,-1.),i,t);\r\n  vec2 leftTopPos=ballPos(vec2(-1.,-1.),i,t);\r\n  \r\n  vec4 c=vec4(0.);\r\n  //c+=vec4(f,0.,1.);\r\n  \r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,rightPos,.05));\r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,leftPos,.05));\r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,bottomPos,.05));\r\n  c+=smoothstep(1.,0.,distLine(f,mainPos,topPos,.05));\r\n  \r\n  c+=ball((f-mainPos),.1);\r\n  c+=ball((f-rightPos),.1);\r\n  c+=ball((f-leftPos),.1);\r\n  c+=ball((f-bottomPos),.1);\r\n  c+=ball((f-topPos),.1);\r\n  vec2 uv0=vec2(0.);\r\n  uv0=fourCornerCoord(f,mainPos,bottomPos,rightPos,rightBottomPos,true);\r\n  c+=vec4(uv0,0.,1.);\r\n  uv0=fourCornerCoord(f,leftPos,leftBottomPos,mainPos,bottomPos,true);\r\n  c+=vec4(uv0,0.,1.);\r\n  uv0=fourCornerCoord(f,topPos,mainPos,rightTopPos,rightPos,true);\r\n  c+=vec4(uv0,0.,1.);\r\n  uv0=fourCornerCoord(f,leftTopPos,leftPos,topPos,mainPos,true);\r\n  c+=vec4(uv0,0.,1.);\r\n  \r\n  return c;\r\n}\r\n\r\nvoid main()\r\n{\r\n  \r\n  vec2 aspectRatio=vec2(uSize.x/uSize.y,1.);\r\n  if(vTextureCoord.x<.5){\r\n    if(vTextureCoord.y<.5){\r\n      //六邊形\r\n      vec4 color=vec4(0.);\r\n      vec2 uv=vTextureCoord;\r\n      uv=uv*2.;\r\n      uv=fract(uv);\r\n      vec2 uvA=uv;\r\n      \r\n      uv-=.5;\r\n      uv*=aspectRatio;\r\n      \r\n      uv*=5.;\r\n      vec2 g=hexagon(uv);\r\n      if(uvA.x<.5){\r\n        color+=vec4(vec3(g,0.),1.);\r\n      }\r\n      vec2 i=uv-g;\r\n      float angle=atan(g.y,g.x);\r\n      g*=rotCoord(.2*(i.x+i.y)*pi-uTime);\r\n      float f=distHexagon(g);\r\n      f=sin(f*40.+angle+.2*(i.x+i.y)*pi-uTime)*.5+.5;\r\n      f=step(f,length(g));\r\n      if(uvA.x>=.5){\r\n        color+=vec4(vec3(f*.5),1.);\r\n      }\r\n      gl_FragColor=color;\r\n    }else{\r\n      //波浪\r\n      vec4 color=vec4(0.);\r\n      vec2 uv=vTextureCoord;\r\n      uv=uv*2.-vec2(0.,1.);\r\n      uv=fract(uv);\r\n      vec2 uvA=uv;\r\n      \r\n      uv-=.5;\r\n      uv*=aspectRatio;\r\n      \r\n      vec2 grid=vec2(10.,10.);\r\n      uv*=grid;\r\n      color+=wave(uv,pi*uTime);\r\n      \r\n      /*float d0=length(uv);\r\n      vec2 uv1=uv-vec2(.25,0.);\r\n      float d1=length(uv1);\r\n      float a0=.5*atan(uv.x,uv.y)/pi+.5;\r\n      float a1=.5*atan(uv1.x,uv1.y)/pi+.5;\r\n      vec2 rate=vec2(20.,20.);\r\n      float a=a0-a1;\r\n      float d=min(d0/d1,d1/d0);\r\n      vec2 uv0=vec2(a,d)*rate;\r\n      vec2 f=fract(uv0);\r\n      color+=vec4(f,0.,1.);*/\r\n      \r\n      //vec2 gv=fract(uv);\r\n      //float gridLineWidth=1.;\r\n      //vec2 gridWidth=gridLineWidth*grid/uSize;\r\n      //if(gv.x<gridWidth.x||gv.x>1.-gridWidth.x||gv.y<gridWidth.y||gv.y>1.-gridWidth.y){color=vec4(vec3(1.,0.,0.),1.);}\r\n      gl_FragColor=color;\r\n    }\r\n  }else{\r\n    if(vTextureCoord.y<.5){\r\n      //漩渦\r\n      vec4 color=vec4(0.);\r\n      vec2 uv=vTextureCoord;\r\n      uv=uv*2.-vec2(1.,0.);\r\n      uv=fract(uv);\r\n      vec2 uvA=uv;\r\n      \r\n      uv-=.5;\r\n      uv*=aspectRatio;\r\n      float d=length(uv);\r\n      float a=.5*atan(uv.x,uv.y)/pi+.5;\r\n      vec2 uv0=vec2(fract(a+d*5.),d);\r\n      if(uvA.x<.5){\r\n        color+=vec4(uv0,0.,1.);\r\n      }\r\n      \r\n      vec2 mainPos=vec2(.5,sin(uTime*.5)*.5+.5);\r\n      color+=ball((uv0-mainPos),.1);\r\n      \r\n      if(uvA.x>=.5){\r\n        color+=vec4(vec3(noise_perlin(uv0*vec2(10.,50.)+vec2(0.,uTime*3.),vec2(0.,0.))*.5+.5),1.);\r\n      }\r\n      gl_FragColor=color;\r\n    }else{\r\n      //圓形座標\r\n      vec4 color=vec4(0.);\r\n      vec2 uv=vTextureCoord;\r\n      uv=uv*2.-vec2(1.,1.);\r\n      uv=fract(uv);\r\n      vec2 uvA=uv;\r\n      \r\n      uv-=.5;\r\n      uv*=aspectRatio;\r\n      \r\n      float d=length(uv);\r\n      float a=.5*atan(uv.x,uv.y)/pi+.5;\r\n      vec2 rate=vec2(20.,10.);\r\n      vec2 uv0=vec2(a,d-uTime*.5)*rate;\r\n      \r\n      vec2 f=fract(uv0);\r\n      vec2 i=floor(uv0);\r\n      float rand0=random(i*10.+vec2(1.,1.));\r\n      float rand1=random(i*20.+vec2(1.,1.));\r\n      \r\n      float a0=i.x/rate.x+.5/rate.x;\r\n      f-=.5;\r\n      if(uvA.x<.5){\r\n        color+=vec4(f,0.,1.);\r\n      }\r\n      float r=.1;\r\n      //f+=vec2((.5-r0)*rand0,(.5-r0)*rand1);\r\n      f+=vec2((.5-r)*rand0,(.5-.25)*rand1);\r\n      f*=vec2(2.*d*pi,1.)/vec2(rate.x/rate.y,1.);\r\n      //f*=rotCoord(a0*2.*pi+pi);//座標轉回來\r\n      \r\n      float rand=random(i*5.);\r\n      //float ballVal=smoothstep(0.,.2,1.-length(f)/r0);\r\n      //float ff=max(1.-r,0.)*(1.-step(rand*.5+.5,.1))*ballVal;\r\n      float val=smoothstep(1.,0.,distLine(f,vec2(0.,-.25),vec2(0.,.25),.05));\r\n      float ff=max(1.-d,0.)*(1.-step(rand*.5+.5,.75))*val;\r\n      if(uvA.x>=.5){\r\n        color+=vec4(vec3(ff),1.);\r\n      }\r\n      gl_FragColor=color;\r\n    }\r\n  }\r\n}\r\n\r\n"},5:function(r,n){r.exports="attribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\nvarying highp vec2 vTextureCoord;\r\nuniform float uFlipY;\r\nvoid main(void){\r\n  vTextureCoord=aTextureCoord;\r\n  gl_Position=vec4((2.*aVertexPosition+vec2(-1.,-1.))*vec2(1.,uFlipY),0.,1.);\r\n}"},72:function(r,n,e){"use strict";e.r(n);var t=e(0),o=e(1),a=e(5),i=e.n(a),u=e(47),c=e.n(u),v=function(r,n,e){var o=Object(t.f)(r,n,e);return{program:o,attribLocations:{vertexPosition:t.b.attribFloat(r,o,"aVertexPosition",2),textureCoord:t.b.attribFloat(r,o,"aTextureCoord",2)},uniformLocations:{flipY:t.i.uniform1f(r,o,"uFlipY"),size:t.i.uniform2fv(r,o,"uSize"),time:t.i.uniform1f(r,o,"uTime")}}},f=function(r){return Object.assign(Object(t.h)(r,v,i.a,c.a),{draw:function(n){r.drawElements(r.TRIANGLES,n,r.UNSIGNED_BYTE,0)}})};function l(r){var n=[[0,0],[1,0],[1,1],[0,1]].flat(),e=Object(t.a)(r,n,2),o=[[0,0],[1,0],[1,1],[0,1]].flat(),a=Object(t.a)(r,o,2),i=[[0,1,3],[1,2,3]].flat();return{positionBufferData:e,textureCoordinatesBufferData:a,indicesBufferData:Object(t.d)(r,i)}}!function(){var r=document.querySelector("#glcanvas"),n=r.getContext("webgl",{alpha:!1});if(!n)return void alert("無法初始化WebGL。您的瀏覽器或機器可能不支持它。");var e={coordinateShader:f(n)},a={face:l(n),view:l(n)},i=[.5*n.canvas.width,.5*n.canvas.height];r.addEventListener("mousemove",(function(r){o.b.set(i,r.pageX,r.pageY)}));var u=[n.canvas.clientWidth,n.canvas.clientHeight],c={};var v=0;requestAnimationFrame((function r(o){var f=.001*(o-v);v=o,requestAnimationFrame(r),function(r,n,e,o,a){var i=a.now,u=(a.framebufferTextures,a.mPos,a.size),c=e.face,v=n.coordinateShader;v.use(),v.attribSet({vertexPosition:c.positionBufferData.buffer,textureCoord:c.textureCoordinatesBufferData.buffer}),v.uniformSet({size:u,time:.001*i,flipY:-1}),Object(t.j)(r),v.draw(c.indicesBufferData.length)}(n,e,a,0,{now:o,delta:f,mPos:i,framebufferTextures:c,size:u})}))}()}});